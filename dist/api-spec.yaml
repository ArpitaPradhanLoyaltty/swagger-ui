openapi: 3.0.0
info:
  title: User mangament Copy
  description: |-
    You can use endpoints to register, auth, update users based on their roles.

    Roles we have:

    1. Retailer
    2. Customer
    3. employee
  version: 1.0.0
servers:
  - url: https://gold.loyaltty.com/
components:
  securitySchemes:
    noauthAuth:
      type: http
      scheme: noauth
    bearerAuth:
      type: http
      scheme: bearer
tags:
  - name: Retailer
  - name: Retailer > Deal
    description: >-
      Order deal or the endpoint "host/retailer/deal" is responsable for the
      following:


      1. [Create New
      deal](https://lightringtechnology.postman.co/workspace/Loyaltty-app~2eb41766-47d1-4ffd-893c-ed046bf71c8d/request/23448070-3f4b0fd0-2e5c-40ab-827f-d1e4e3b05ac0?active-environment=e45407dd-be67-4270-88b5-be670e5ca860)
          
      2. [Create welcome
      deal](https://lightringtechnology.postman.co/workspace/Loyaltty-app~2eb41766-47d1-4ffd-893c-ed046bf71c8d/request/23448070-3f4b0fd0-2e5c-40ab-827f-d1e4e3b05ac0?active-environment=e45407dd-be67-4270-88b5-be670e5ca860)
          
      3. Get all deals

      4. Get single deal
  - name: Retailer > Deal > Update Single Deal
  - name: Retailer > Business
  - name: Retailer > Business > Categories
  - name: Retailer > Business > Update bussiness
  - name: Retailer > Authentication
  - name: Retailer > Authentication > Registeration
    description: >-
      the registeration of the retailer is done in 4 steps:


      1. Register user information including personal information.

      2. Verify user phone number that the user submitted in Step1.

      3. Add Business information.

      4. Upload business images.
          

      In the last step of uploading the images. the user will automaticlly
      signed in. and you will get the JWT token along with the request.


      Created date: 08/24/2024


      Modifided date: .
  - name: Retailer > Authentication > Login & Logout & verify token
  - name: Retailer > Authentication > Forgot password
  - name: Retailer > Employees
  - name: Retailer > Reward
  - name: Retailer > Notifications
  - name: Retailer > Analytics
  - name: Customer
  - name: Customer > Auth
  - name: Customer > Business
  - name: Customer > Deal
  - name: Customer > Notifications
  - name: Admin
  - name: Admin > Auth
  - name: Admin > Retailer
  - name: Admin > Customer
  - name: Employee
  - name: Employee > Notifications
paths:
  /retailer/deal/{dealId}:
    put:
      tags:
        - Retailer > Deal > Update Single Deal
      summary: Update Deal Information
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                name: new name
                price: 123
                currency: usd
                start_date: '2023-12-23'
                end_date: '2023-12-31'
                repeat: '["sun","Mon","Tue","sat"]'
                repeat_type: byday
                terms_and_conditions: new terms
                full_details: new details
      parameters:
        - name: dealId
          in: path
          schema:
            type: integer
          required: true
          example: '20'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 10:26:01 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '506'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"1fa-iNSNv23XrbZNlI3eodqFMtx2T1s"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: deal_updated_successfully
                data:
                  id: '81'
                  name: very new name
                  price: 1000
                  currency: egp
                  description: very new long description
                  repeat: '["Wed","Thu","Fri","Sat"]'
                  repeat_type: byday
                  start_date: '2023-09-20T21:00:00.000Z'
                  end_date: '2023-09-20T21:00:00.000Z'
                  type: deal
                  full_details: very new long terms and conditions
                  terms_and_conditions: very new long details
                  created_at: '2023-09-20T22:57:29.669Z'
                  updated_at: '2023-09-21T10:26:01.818Z'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 10:28:41 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '352'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"160-wLlsBNGMLH06e5KO/0Gn2aKykg8"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Deal name is invalid.
                      - Deal price is invalid.
                      - Deal price must be a number.
                      - Deal currency is required.
                      - Short description is required.
                      - Full details is required.
                      - Terms and conditions is required.
                      - Please select a valid start date.
                      - End date must be greater than start date.
                example-1:
                  summary: '[400] repeat not sent while repeat_type is byday'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Please select a repeat type.
                example-2:
                  summary: '[400] edit past deal'
                  value:
                    success: false
                    message: you can't edit a past deal
                    errorCode: internal
                example-3:
                  summary: '[400] Edit active deal start date'
                  value:
                    success: false
                    message: >-
                      Deal is currenlty active, you can't change the start date
                      of a deal
                    errorCode: internal
                example-4:
                  summary: '[400] End date is smaller or equal then start date'
                  value:
                    success: false
                    message: End date must be greater than start date.
                    errorCode: internal
                example-5:
                  summary: '[400] Upcoming deal start date must be greater than now'
                  value:
                    success: false
                    message: Start date must be greater than today's date.
                    errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 10:41:01 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '95'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"5f-NcYwcQvbr8GlwDkyG7XaJJMY+qI"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: failed_to_update_deal
                detailes: deal_is_past
                errorCode: internal
    get:
      tags:
        - Retailer > Deal
      summary: Get Deal details
      parameters:
        - name: dealId
          in: path
          schema:
            type: integer
          required: true
          example: '1'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 14 Sep 2023 11:22:28 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '1364'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"554-zJQy+/uzbkHUIpeau+MUPc65sqc"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[200] Get success'
                  value:
                    success: true
                    message: deal
                    data:
                      id: '25'
                      name: My deal
                      num_of_visits: null
                      type: deal
                      price: 1000
                      currency: USD
                      description: very long description
                      full_details: very long details
                      start_date: '2023-02-28T21:00:00.000Z'
                      end_date: '2023-10-01T21:00:00.000Z'
                      repeat: '{}'
                      repeat_type: all
                      terms_and_conditions: very long terms of use
                      business_id: '27'
                      created_at: '2023-09-14T09:02:47.649Z'
                      updated_at: '2023-09-14T09:02:47.649Z'
                      status: active
                      pictures:
                        count: 1
                        files:
                          - id: '25'
                            deal_id: '25'
                            picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-12%2019360418a92ed9634.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=dVloC%2F4j4Nb3G4WncaTUxmaHrEecUHunI%2B%2FbCg5kDeiwwmEsukvZHtSyw5qHhQ4qyQ8s%2B49HCVk6uFY1TuVaQwrskSehLn8ntnfWk57dnOTsnZ6plk5qPjFZfpxd7o51ErJp1PnS%2Ff4N7mZDst3kp%2BMxzKIMpbdkbVMxP3n%2BToSIdphx9%2FFHiCflUkFpn9ffvsxDzan6fX%2FEfsfSKk6y%2B99DdxCy4v9vBB1%2Fu8ItWK7awXkeZnhJSw0Ly9EEKvZkf0WTLE%2FpUbiEI%2F%2BPH0GHwKlCem2JhhtWx9ziOoM9TdIBWg%2BtjTcP1kVSoCXazpKYnRhyov66LXkfgAvLVhUsnA%3D%3D
                            picture_type: deal_picture
                            storage_type: firebase
                            storage_path: >-
                              deal/27/Screenshot 2023-09-12
                              19360418a92ed9634.png
                            created_at: '2023-09-14T09:02:47.652Z'
                            updated_at: '2023-09-14T09:02:47.652Z'
                example-1:
                  summary: '[200] Sucess'
                  value:
                    success: true
                    message: deal
                    data:
                      id: '31'
                      name: My deal
                      num_of_visits: null
                      type: welcome
                      price: 1000
                      currency: USD
                      description: very long description
                      full_details: very long details
                      start_date: null
                      end_date: null
                      repeat: '{}'
                      repeat_type: null
                      terms_and_conditions: very long terms of use
                      business_id: '27'
                      created_at: '2023-09-14T11:34:48.149Z'
                      updated_at: '2023-09-14T11:34:48.149Z'
                      status: past
                      pictures:
                        count: 1
                        files:
                          - id: '30'
                            deal_id: '31'
                            picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-12%2019360418a9378d2e6.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=bZzbAxNeAF%2FCAqyMFbwd%2FNMO7OcrUZMAPDI2CDhluu70hkm9j%2BBkEB7gB2I%2BLLli%2BkEgbNDH2%2F37Ze2IwL6bgASmN0W7qZ%2FxfHb4VNe2h%2FqoePdH3A9Ho%2F7UEiC9lEzNyb7HKEsMtXS%2BJ15OGxntanigzSjlcLvOnwJ5UkP0GnbMzOYTP6WB%2BbOULNts%2FbHJiyWX20jx%2BZi83fhZRJDoFB1oZqsLX4Z0qdYxICA3blzML6s%2Fvwbw%2BEdbdQd3Ak3NlYlftipbjAk6nQ2qVS8F7xElIW5kDJNRljFn177gYKSqoyuwJt3ieHypuD2%2B5HLk%2FAh9ElMQxnyro7qL97ReFw%3D%3D
                            created_at: '2023-09-14T11:34:48.152Z'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 14 Sep 2023 11:18:46 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '96'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"60-MK/JxTUtMAmpJC85ltqUeVoGVqs"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Deal not found.
                detailes: deal_not_found
                errorCode: internal
  /retailer/deal/{dealId}/picture/{pictureId}:
    delete:
      tags:
        - Retailer > Deal > Update Single Deal
      summary: Delete single Deal picture
      parameters:
        - name: dealId
          in: path
          schema:
            type: integer
          required: true
          example: '42'
        - name: pictureId
          in: path
          schema:
            type: integer
          required: true
          example: '74'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 11:37:13 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '768'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"300-u2fRPpFzDEr2cWpi8yhb3QJ273Q"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Deal picture deleted successfully.
                data:
                  count: 1
                  files:
                    - id: '91'
                      deal_id: '81'
                      picture_url: >-
                        https://storage.googleapis.com/loyaltty-app.appspot.com/deal/42/Screenshot%202023-09-13%2014493318ab4d00954.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=1HJWV7oF8iA5jMRf%2FBw%2B%2B0PVV6HNS23MFxDDyL%2BupWI2umeUFTFF4aofHv6wJLWR0GjWXuVoOziiAqAoluF6h0w2YNtGlHreKycc2ncbKm5YbRVCo%2F5lX4vlPsJVPvsVEnDb9GF7JD03dkzODubS3lMrnI1y1IZM18BKG0Zv8IYEcyWWsWY0TACwcPHghrpMeeDnrCnjW%2ByeFTPXzCShuSubmK3lIUcTCmaD1AzHXjcOG4%2Fh44bRuBk12wn3n8HuDCUQ6SKyXBM%2FJ75wAoSuDqCPdZesri%2BRory7zNU5xDrpnPtY4emneUTS%2FMDjxx%2BwUalaExivAhCU98P%2FxtnLnA%3D%3D
                      created_at: '2023-09-20T22:57:29.673Z'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 11:32:31 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '89'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"59-wFXhbBUKPqPTME1Fvk5nLK27Xzw"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Deal must have at least one picture.
                errorCode: internal
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 11:26:52 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '68'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"44-fIwl1LVvexpHBCqjk7Yl38+zJS4"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[404] Deal not found'
                  value:
                    success: false
                    message: Deal not found.
                    errorCode: internal
                example-1:
                  summary: '[404] Picture not found'
                  value:
                    success: false
                    message: Picture not found.
                    errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 11:33:21 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '123'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"7b-07ke5AVCKCNspWw4jaK+xeo9v1k"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to delete deal picture, Please try again.
                detailes: db_error
                errorCode: internal
  /retailer/deal/{dealId}/picture:
    post:
      tags:
        - Retailer > Deal > Update Single Deal
      summary: Upload deal pictures
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                picture:
                  type: string
                  format: binary
      parameters:
        - name: dealId
          in: path
          schema:
            type: integer
          required: true
          example: '42'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 13:58:14 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '2122'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"84a-Id/vQfPlzvVypwMQGL/4/NJhpyM"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Deal picture updated successfully.
                data:
                  count: 3
                  files:
                    - id: '99'
                      deal_id: '81'
                      picture_url: >-
                        https://storage.googleapis.com/loyaltty-app.appspot.com/deal/42/Screenshot%202023-08-13%2018381218ab808107e.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=hRimHBh%2F90T5j86hcNXs%2FzUuUqkpYKgvfDWensziOMri2yFrUYYnAcTV2dOzdM%2BiHP9tpN0NCgxQmq50ZMhxAwWmSuiobp2KBD5jvaXsQXkt3l36VZdAopEqR68uCs7WEknNALNKXPxikwFKuloUSo2vslwZ6%2FDdL5e2llEVQeWN9HhaxQ%2FMjCR1ahgzMvAqIeTJ4dfggxeQDQEaBb%2FH%2FNBwRFDEpG7RAAWNHw3z5txCAfnnr%2BY3kjejP9wjbDRuwC1jM8ApHDOVEWJ35XJI8dsrqQWCFPvZBVm%2BC5cWEXbxmmRmHI1cG6cS4DyAVYnOMQy3Z2hDy8wB7ylvfA2U%2BQ%3D%3D
                      created_at: '2023-09-21T13:57:33.300Z'
                    - id: '100'
                      deal_id: '81'
                      picture_url: >-
                        https://storage.googleapis.com/loyaltty-app.appspot.com/deal/42/Screenshot%202023-08-22%2019171518ab808b457.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=Je74eRRW33ipMQ5U6%2BYBjqM5l%2B%2F522DTRQxho8LFnyhjFkB7eOXNF504i5otlVTECCjSIhTHcqe9SCCcdVEto6pnbsWq%2B6E2tAKYiBC1FrClp7G13ZL%2FmrllAwkb62pB0AhM%2FoSph0vbSBrxFJhqg6IwAdC9Jv8RE0lgmHgM61Q1nzqrY8djX4QKVj5un1Bt1WWLmcVtrgOPBNEcK%2Fk5wHu0eGrHA%2BMwuzXLs2kMOatBBfkTWeVTGkt%2F5YgeQhZK3TGlKzzw%2FQgnyjHZABqMBwr9%2Fqgf%2BwHkhI7JqsbOCLNQv4V5sTpkHl3%2FxG31sJfjDKBzkJ7TfPf30ksYFARwWg%3D%3D
                      created_at: '2023-09-21T13:58:14.685Z'
                    - id: '101'
                      deal_id: '81'
                      picture_url: >-
                        https://storage.googleapis.com/loyaltty-app.appspot.com/deal/42/Screenshot%202023-08-13%2018381218ab808b458.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=HCyf%2BqVPRrCaSAnS2p81afCNUgy07B9uoW1S06pOsNsiNCK00T9zrIBh9XHhuUrjPInBzL9CL8CYJJND%2BV%2FieHNExxi2m872LOiFwZXFgL8D4ihE7vGGt8FYxrS12pHA8I%2FrfpwKzkWqHaNVy5uHI845LSVuRFXTCXsUcofp0D%2B1YlCVA%2FiSw79LqQNS%2BX5xczVlp7T6P3DBVOhWPspO6Y6EKbmtNMzClgNj8F1eMPqn%2BeNrE0B8%2Fo%2F%2Fp2%2FzxAqFRp7E8fL18J4xBVgApcECK0zhyNpmDoUgD6doaiO8vWA7yiYZs1O0thKSW3jB8vPCGiFQdCgVDRfFqpWtt%2FSb6w%3D%3D
                      created_at: '2023-09-21T13:58:14.710Z'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 13:48:30 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '125'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"7d-f02X7b5obPDM9X5ohDsppVS06KI"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Deal must have 3 pictures only'
                  value:
                    success: false
                    message: >-
                      Deal must have only three pictures. Please delete the old
                      picture first.
                    errorCode: internal
                example-1:
                  summary: '[400] Selecting more than 3 pictures'
                  value:
                    success: false
                    message: Deal picture must have only 3 pictures or less.
                    errorCode: internal
                example-2:
                  summary: '[400] Invalid file type'
                  value:
                    success: false
                    message: >-
                      File type must be an image. allowed types: jpg, jpeg or
                      png
                    errorCode: internal
                example-3:
                  summary: '[400] file size exceeded'
                  value:
                    success: false
                    message: Maximum file size exceeded. Maximum file size is 16MB
                    errorCode: internal
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 13:46:52 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '68'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"44-fIwl1LVvexpHBCqjk7Yl38+zJS4"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Deal not found.
                errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 21 Sep 2023 13:59:03 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '110'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"6e-+8g+qPqM/wY6dHpOakT9yJnTC9w"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Deal picture not updated, Please try again.
                detailes: {}
                errorCode: internal
  /retailer/deal/create:
    post:
      tags:
        - Retailer > Deal
      summary: Create new deal
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                price:
                  type: integer
                  example: '10'
                name:
                  type: string
                  example: My postman deal
                currency:
                  type: string
                  description: >-
                    string , length : 3 , Ref:
                    https://knowledgecenter.zuora.com/Quick_References/Country%2C_State%2C_and_Province_Codes/D_Currencies_and_Their_3-Letter_Codes
                  example: USD
                description:
                  type: string
                  example: very long description
                full_details:
                  type: string
                  example: very long details
                terms_and_conditions:
                  type: string
                  example: very long terms of use
                picture:
                  type: string
                  description: png , jpeg allowed, 16MB max , 3 files max
                  format: binary
                type:
                  type: string
                  description: >-
                    enum values: "welcome" | "deal" , "welcome" used for welcome
                    deal, "deal" used for any other deal
                  example: deal
                start_date:
                  type: string
                  description: >-
                    optional if type = welcome , format: `YYYY-MM-DD` , rules:
                    MM <= 12 , DD<= 31 ,MM & DD > 0 , start_date < end_date
                  example: '2023-12-06'
                end_date:
                  type: string
                  description: >-
                    optional if type = welcome , format: `YYYY-MM-DD` , rules:
                    MM <= 12 , DD<= 31 , MM & DD > 0  , end_date > start_date
                  example: '2023-12-31'
                repeat:
                  type: string
                  description: >-
                    optional , 3 letters day name, captilization is not
                    required, double qoute is required for each day name , max
                    array values = 7
                  example: '["sun","Mon","Tue","Wed","Thu","Fri","Sat"]'
                repeat_type:
                  type: string
                  description: >-
                    required only if "repeat" is send ,  enum values : "all" ,
                    "byday" . "all" means repeat for all days, "byday" means
                    repeat only in the selected "repeat" days
                  example: all
                _testing_only_force_create_new_welcome_deal:
                  type: boolean
                  example: 'false'
      responses:
        '201':
          description: Created
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 13 Sep 2023 13:22:21 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '1196'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"4ac-+wZf0ypyXUSoHrqfXG9upUlPVww"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[201] Deal created'
                  value:
                    success: true
                    message: Deal added successfully
                    data:
                      id: '2'
                      name: My deal
                      price: 1000
                      currency: USD
                      description: very long description
                      repeat: '{}'
                      repeat_type: all
                      start_date: '2123-12-30T21:00:00.000Z'
                      end_date: '2124-12-30T21:00:00.000Z'
                      type: welcomee
                      full_details: very long details
                      terms_and_conditions: very long terms of use
                      created_at: '2023-09-13T13:22:21.321Z'
                      updated_at: '2023-09-13T13:22:21.321Z'
                      pictures:
                        count: 1
                        files:
                          - picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-13%2014493318a8eb4f682.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=dCeRHxh711Xtrglm8dbdbhoAEzuGx4WX7ESNtvBg8NfQ%2BQidbC4nEBzfBP3J%2FxbRQBg6BJYE9kIO4IKPkQVMR1rlbo1FGCGp1K4VJkca4CqOv3Yq%2FJ0PVJh%2Fn%2BlmJIrqXlBrvdd28HW2y8kyDEdV0YS3u3AUWwwmdZK6zYWYzp3Ebts3WT9t3XZdTdsj3THrXHxvLl3krTN7KG0JANUTdH3xpAOU1pVP5YfgmxB890KXd6kqpzybGlxNAyMXrGIRR8HSndGWwLunWIzTrVtBCw%2B0Mi19%2Ffbp1qyarQy3MiDotjsuly0NJsL%2FKBtkoHANNMazFsmXz%2FE8C8VZomzNZQ%3D%3D
                            picture_type: deal_picture
                            created_at: '2023-09-13T13:22:21.326Z'
                            updated_at: '2023-09-13T13:22:21.326Z'
                example-1:
                  summary: '[201] Welcome deal created'
                  value:
                    success: true
                    message: Deal added successfully
                    data:
                      id: '3'
                      name: My deal
                      price: 1000
                      currency: USD
                      description: very long description
                      repeat: '{}'
                      repeat_type: null
                      start_date: null
                      end_date: null
                      type: welcome
                      full_details: very long details
                      terms_and_conditions: very long terms of use
                      created_at: '2023-09-13T13:23:05.142Z'
                      updated_at: '2023-09-13T13:23:05.142Z'
                      pictures:
                        count: 1
                        files:
                          - picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-13%2014493318a8eb5a632.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=LjacMwWb8hURqfEPJODiRDIHNburLBRkwXJxMkcCyAHhoxMUGEYUixf32lMkNtj232GBxDki4T2vvDCSxhMRiIHBrXy0p%2BseOCumTULCF2JPrUyyGIykvCXBNEaiSzweNNPalrJtVnLipOBRCzT77IHPk63nyBtpERzlXcMuCPg3g%2B5%2FAQR0KSt9HptNfWEaio66wM9qoX5rdmUAGXNYXUMiVF%2BWYPeoIODtWmoLViZNV%2BMxPiHyCSS9uXUFDVeJd38Q8wcag8MTZTPmUYOMMb%2Fe7MaYgWrPWufBQk29XQzX2je5fyFUxngBvD10ZZYyBZym%2Fzl0j61W3fGc2VPhPQ%3D%3D
                            picture_type: deal_picture
                            created_at: '2023-09-13T13:23:05.147Z'
                            updated_at: '2023-09-13T13:23:05.147Z'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 13 Sep 2023 11:24:03 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '77'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"4d-cjsV9tUtZY/ZVqg9ogxSM+UauAE"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Deal picture is required'
                  value:
                    success: false
                    message: Deal picture is required
                    errorCode: internal
                example-1:
                  summary: '[400] Upload more than 3 pictures'
                  value:
                    success: false
                    message: Deal picture must have only 3 pictures or less.
                    errorCode: internal
                example-2:
                  summary: '[400] Invalid file type'
                  value:
                    success: false
                    message: >-
                      File type must be an image. allowed types: jpg, jpeg or
                      png
                    errorCode: internal
                example-3:
                  summary: '[400] Max file size exceeded'
                  value:
                    success: false
                    message: Maximum file size exceeded. Maximum file size is 16MB
                    errorCode: internal
                example-4:
                  summary: '[400] validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Deal name is invalid.
                      - Deal price is invalid.
                      - Deal price must be a number.
                      - Deal currency is required.
                      - Short description is required.
                      - Full details is required.
                      - Terms and conditions is required.
                      - Please select a valid start date.
                      - End date must be greater than start date.
                      - Please select a day to repeat. or select all
                      - Please select a repeat type.
                      - Deal type must be a welcome deal or deal.
                example-5:
                  summary: '[400] validation error (Welcome deal exist)'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Welcome deal already exists for this business.
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 13 Sep 2023 18:41:49 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '100'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"64-yIv93HjH5yZqt0bACFH6GdHu9OE"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Deal not added, Please try again.
                detailes: {}
                errorCode: internal
  /retailer/deal/copy:
    post:
      tags:
        - Retailer > Deal
      summary: Save as new deal
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                price: 10002
                name: My postman deal
                currency: USD
                description: very long description
                full_details: very long details
                terms_and_conditions: very long terms of use
                pictures:
                  - 1
                  - 2
                  - 3
                type: deal
                start_date: '2024-12-23'
                end_date: '2024-12-31'
                repeat:
                  - sun
                  - Mon
                  - Tue
                  - Wed
                  - Thu
                  - Fri
                  - Sat
                repeat_type: byday
                _testing_only_force_create_new_welcome_deal: false
      responses:
        '201':
          description: Created
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 13 Sep 2023 13:22:21 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '1196'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"4ac-+wZf0ypyXUSoHrqfXG9upUlPVww"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[201] Deal created'
                  value:
                    success: true
                    message: Deal added successfully
                    data:
                      id: '2'
                      name: My deal
                      price: 1000
                      currency: USD
                      description: very long description
                      repeat: '{}'
                      repeat_type: all
                      start_date: '2123-12-30T21:00:00.000Z'
                      end_date: '2124-12-30T21:00:00.000Z'
                      type: welcomee
                      full_details: very long details
                      terms_and_conditions: very long terms of use
                      created_at: '2023-09-13T13:22:21.321Z'
                      updated_at: '2023-09-13T13:22:21.321Z'
                      pictures:
                        count: 1
                        files:
                          - picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-13%2014493318a8eb4f682.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=dCeRHxh711Xtrglm8dbdbhoAEzuGx4WX7ESNtvBg8NfQ%2BQidbC4nEBzfBP3J%2FxbRQBg6BJYE9kIO4IKPkQVMR1rlbo1FGCGp1K4VJkca4CqOv3Yq%2FJ0PVJh%2Fn%2BlmJIrqXlBrvdd28HW2y8kyDEdV0YS3u3AUWwwmdZK6zYWYzp3Ebts3WT9t3XZdTdsj3THrXHxvLl3krTN7KG0JANUTdH3xpAOU1pVP5YfgmxB890KXd6kqpzybGlxNAyMXrGIRR8HSndGWwLunWIzTrVtBCw%2B0Mi19%2Ffbp1qyarQy3MiDotjsuly0NJsL%2FKBtkoHANNMazFsmXz%2FE8C8VZomzNZQ%3D%3D
                            picture_type: deal_picture
                            created_at: '2023-09-13T13:22:21.326Z'
                            updated_at: '2023-09-13T13:22:21.326Z'
                example-1:
                  summary: '[201] Welcome deal created'
                  value:
                    success: true
                    message: Deal added successfully
                    data:
                      id: '3'
                      name: My deal
                      price: 1000
                      currency: USD
                      description: very long description
                      repeat: '{}'
                      repeat_type: null
                      start_date: null
                      end_date: null
                      type: welcome
                      full_details: very long details
                      terms_and_conditions: very long terms of use
                      created_at: '2023-09-13T13:23:05.142Z'
                      updated_at: '2023-09-13T13:23:05.142Z'
                      pictures:
                        count: 1
                        files:
                          - picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-13%2014493318a8eb5a632.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=LjacMwWb8hURqfEPJODiRDIHNburLBRkwXJxMkcCyAHhoxMUGEYUixf32lMkNtj232GBxDki4T2vvDCSxhMRiIHBrXy0p%2BseOCumTULCF2JPrUyyGIykvCXBNEaiSzweNNPalrJtVnLipOBRCzT77IHPk63nyBtpERzlXcMuCPg3g%2B5%2FAQR0KSt9HptNfWEaio66wM9qoX5rdmUAGXNYXUMiVF%2BWYPeoIODtWmoLViZNV%2BMxPiHyCSS9uXUFDVeJd38Q8wcag8MTZTPmUYOMMb%2Fe7MaYgWrPWufBQk29XQzX2je5fyFUxngBvD10ZZYyBZym%2Fzl0j61W3fGc2VPhPQ%3D%3D
                            picture_type: deal_picture
                            created_at: '2023-09-13T13:23:05.147Z'
                            updated_at: '2023-09-13T13:23:05.147Z'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 13 Sep 2023 11:24:03 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '77'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"4d-cjsV9tUtZY/ZVqg9ogxSM+UauAE"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Deal picture is required'
                  value:
                    success: false
                    message: Deal picture is required
                    errorCode: internal
                example-1:
                  summary: '[400] Upload more than 3 pictures'
                  value:
                    success: false
                    message: Deal picture must have only 3 pictures or less.
                    errorCode: internal
                example-2:
                  summary: '[400] Invalid file type'
                  value:
                    success: false
                    message: >-
                      File type must be an image. allowed types: jpg, jpeg or
                      png
                    errorCode: internal
                example-3:
                  summary: '[400] Max file size exceeded'
                  value:
                    success: false
                    message: Maximum file size exceeded. Maximum file size is 16MB
                    errorCode: internal
                example-4:
                  summary: '[400] validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Deal name is invalid.
                      - Deal price is invalid.
                      - Deal price must be a number.
                      - Deal currency is required.
                      - Short description is required.
                      - Full details is required.
                      - Terms and conditions is required.
                      - Please select a valid start date.
                      - End date must be greater than start date.
                      - Please select a day to repeat. or select all
                      - Please select a repeat type.
                      - Deal type must be a welcome deal or deal.
                example-5:
                  summary: '[400] validation error (Welcome deal exist)'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Welcome deal already exists for this business.
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 13 Sep 2023 18:41:49 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '100'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"64-yIv93HjH5yZqt0bACFH6GdHu9OE"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Deal not added, Please try again.
                detailes: {}
                errorCode: internal
  /retailer/deal:
    get:
      tags:
        - Retailer > Deal
      summary: Get all deals
      parameters:
        - name: filterBy
          in: query
          schema:
            type: string
          description: active,upcoming,past
          example: active
        - name: orderBy
          in: query
          schema:
            type: string
          description: >-
            Order by values: "created_at", "updated_at", "start_date",
            "end_date"
          example: created_at
        - name: page
          in: query
          schema:
            type: integer
          description: Page number, MIN 1 , MAX infinity
          example: '1'
        - name: limit
          in: query
          schema:
            type: integer
          description: Page number, MIN 1 , MAX infinity
          example: '100'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 14 Sep 2023 12:01:35 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '4065'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"fe1-1kxqj3f0gkbyDdwfQtXAsebf2cU"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[200] Get active deals'
                  value:
                    success: true
                    message: deals
                    data:
                      count: 5
                      page: 1
                      limit: 10
                      deals:
                        - id: '31'
                          name: My deal
                          num_of_visits: null
                          type: welcome
                          price: 1000
                          currency: USD
                          description: very long description
                          full_details: very long details
                          start_date: null
                          end_date: null
                          repeat: '{}'
                          repeat_type: null
                          terms_and_conditions: very long terms of use
                          business_id: '27'
                          created_at: '2023-09-14T11:34:48.149Z'
                          updated_at: '2023-09-14T11:34:48.149Z'
                          deal_picture_url: >-
                            https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-12%2019360418a9378d2e6.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=bZzbAxNeAF%2FCAqyMFbwd%2FNMO7OcrUZMAPDI2CDhluu70hkm9j%2BBkEB7gB2I%2BLLli%2BkEgbNDH2%2F37Ze2IwL6bgASmN0W7qZ%2FxfHb4VNe2h%2FqoePdH3A9Ho%2F7UEiC9lEzNyb7HKEsMtXS%2BJ15OGxntanigzSjlcLvOnwJ5UkP0GnbMzOYTP6WB%2BbOULNts%2FbHJiyWX20jx%2BZi83fhZRJDoFB1oZqsLX4Z0qdYxICA3blzML6s%2Fvwbw%2BEdbdQd3Ak3NlYlftipbjAk6nQ2qVS8F7xElIW5kDJNRljFn177gYKSqoyuwJt3ieHypuD2%2B5HLk%2FAh9ElMQxnyro7qL97ReFw%3D%3D
                        - id: '34'
                          name: My deal
                          num_of_visits: null
                          type: deal
                          price: 1000
                          currency: USD
                          description: very long description
                          full_details: very long details
                          start_date: '2023-08-31T21:00:00.000Z'
                          end_date: '2124-12-30T21:00:00.000Z'
                          repeat: '{}'
                          repeat_type: all
                          terms_and_conditions: very long terms of use
                          business_id: '27'
                          created_at: '2023-09-14T11:40:05.835Z'
                          updated_at: '2023-09-14T11:40:05.835Z'
                          deal_picture_url: >-
                            https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-12%2019360418a937db704.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=isibV2jhtIflPbSTmjQ4mrSw78fP6vUJBLw8NqqEoHoFj9xQcLUDgkDXVdywbjHavIq8HoBesGV3NouA58b2H25u0BnTyBnLw5Y54MFcYSjKsFP%2FSGx05xPy1bQXShhLumU3iGf%2Fh9JOnxILdhbcI1r9uDKNYRfYita6DLJCUnr374Q2rwAYFr%2F0wmZwbYMpfpQwFlWrNmIILrnzPiuCpSovals2mOQVQxw%2B8CNgZfbt9WRGDt1wOk%2F1F5LauSA97SPtAoRVzI90SwpGmBye6Kvsk3lm8cVKdd1P3b3GN6avhSmVy%2FTW57asackWac5KIbra1dIAk96BG2n3ci8pjA%3D%3D
                        - id: '33'
                          name: My deal
                          num_of_visits: null
                          type: deal
                          price: 1000
                          currency: USD
                          description: very long description
                          full_details: very long details
                          start_date: '2023-08-31T21:00:00.000Z'
                          end_date: '2124-12-30T21:00:00.000Z'
                          repeat: '{}'
                          repeat_type: all
                          terms_and_conditions: very long terms of use
                          business_id: '27'
                          created_at: '2023-09-14T11:40:02.559Z'
                          updated_at: '2023-09-14T11:40:02.559Z'
                          deal_picture_url: >-
                            https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-12%2019360418a937da92b.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=UiOJubG6Au7qt5jMYTD0JXSHycvARr7ST8vZGE0uiadbWy52XG56owwj37Miqm2NAKSeZ3t%2FMzTT%2F8UcRg%2FKqhp3g2bTbQgJ%2Bv9Pxq5O%2BMJwQZhj22IUm%2FKDV7RhDzQASXl%2BSzxVpAN2szZu0LEQwRU9WnRNGlRen1fDM%2FLMqP5gl%2F6lTj51syU%2Fay%2FDQp7Mq2QjV%2FNLIO4GmyrM88Qr%2BbZPIO6zUuVd%2BNXxrFrTeEYlhwERXRdmrhJm5s8j2oHOejxOIdXRPka06Y1VEq3fMKL6oJUDm8Xe7HkaRcKMdfCitPXqVyggW0DuLUMGQIsAImE%2FYLgvpyuJ2ZvMcUtDsA%3D%3D
                        - id: '25'
                          name: My deal
                          num_of_visits: null
                          type: deal
                          price: 1000
                          currency: USD
                          description: very long description
                          full_details: very long details
                          start_date: '2023-02-28T21:00:00.000Z'
                          end_date: '2023-10-01T21:00:00.000Z'
                          repeat: '{}'
                          repeat_type: all
                          terms_and_conditions: very long terms of use
                          business_id: '27'
                          created_at: '2023-09-14T09:02:47.649Z'
                          updated_at: '2023-09-14T09:02:47.649Z'
                          deal_picture_url: null
                        - id: '30'
                          name: My deal
                          num_of_visits: null
                          type: deal
                          price: 1000
                          currency: USD
                          description: very long description
                          full_details: very long details
                          start_date: '2023-02-28T21:00:00.000Z'
                          end_date: '2023-11-01T21:00:00.000Z'
                          repeat: '{}'
                          repeat_type: all
                          terms_and_conditions: very long terms of use
                          business_id: '27'
                          created_at: '2023-09-14T09:02:47.649Z'
                          updated_at: '2023-09-14T09:02:47.649Z'
                          deal_picture_url: null
                example-1:
                  summary: '[200] Get upcoming deals'
                  value:
                    success: true
                    message: deals
                    data:
                      count: 1
                      page: 1
                      limit: 10
                      deals:
                        - id: '32'
                          name: My deal
                          num_of_visits: null
                          type: deal
                          price: 1000
                          currency: USD
                          description: very long description
                          full_details: very long details
                          start_date: '2123-12-30T21:00:00.000Z'
                          end_date: '2124-12-30T21:00:00.000Z'
                          repeat: '{}'
                          repeat_type: all
                          terms_and_conditions: very long terms of use
                          business_id: '27'
                          created_at: '2023-09-14T11:39:24.669Z'
                          updated_at: '2023-09-14T11:39:24.669Z'
                          deal_picture_url: >-
                            https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-12%2019360418a937d0efa.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=K5gMY1TQhxwptclpv3g5cqe8FAKbaFFqPtxLxatG4i1Z%2Fv7M7EFDZaMpQa%2FECj%2Faub2bKwpBy71xdhYOaUcW%2B9tgZDrd%2FyfPjVpDjOxmZ36oJcI2GfwRFwNQpUz9ejfuZjvQraVvBXL%2F2WUQOC%2BLcrT5onh0fAM%2FaUg3xAsArQtIm3ZRxfqG5b2Gr59uSD%2BzIWC%2BSJdiJtuoE19Yx9uTn4aJH%2BD61DY%2BxD1rdDtMGdMifOn%2BBlgwBXPr%2B3Mg4FqDMWp5aIolAjGxbco97xV6H9bB5P%2BKyJdvm1h3MKHcBaQ9L%2FVPtpcCcRNF%2BmMzrhVFNK9SdQjT%2BsDP%2F%2F2%2BaafoKA%3D%3D
                example-2:
                  summary: '[200] Get past deals'
                  value:
                    success: true
                    message: deals
                    data:
                      count: 1
                      page: 1
                      limit: 10
                      deals:
                        - id: '34'
                          name: My deal
                          num_of_visits: null
                          type: deal
                          price: 1000
                          currency: USD
                          description: very long description
                          full_details: very long details
                          start_date: '2023-08-31T21:00:00.000Z'
                          end_date: '2004-12-30T21:00:00.000Z'
                          repeat: '{}'
                          repeat_type: all
                          terms_and_conditions: very long terms of use
                          business_id: '27'
                          created_at: '2023-09-14T11:40:05.835Z'
                          updated_at: '2023-09-14T11:40:05.835Z'
                          deal_picture_url: >-
                            https://storage.googleapis.com/loyaltty-app.appspot.com/deal/27/Screenshot%202023-09-12%2019360418a937db704.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=isibV2jhtIflPbSTmjQ4mrSw78fP6vUJBLw8NqqEoHoFj9xQcLUDgkDXVdywbjHavIq8HoBesGV3NouA58b2H25u0BnTyBnLw5Y54MFcYSjKsFP%2FSGx05xPy1bQXShhLumU3iGf%2Fh9JOnxILdhbcI1r9uDKNYRfYita6DLJCUnr374Q2rwAYFr%2F0wmZwbYMpfpQwFlWrNmIILrnzPiuCpSovals2mOQVQxw%2B8CNgZfbt9WRGDt1wOk%2F1F5LauSA97SPtAoRVzI90SwpGmBye6Kvsk3lm8cVKdd1P3b3GN6avhSmVy%2FTW57asackWac5KIbra1dIAk96BG2n3ci8pjA%3D%3D
                example-3:
                  summary: '[200] Empty result'
                  value:
                    success: true
                    message: deals
                    data:
                      count: 0
                      deals: []
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 14 Sep 2023 10:43:32 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '136'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"88-kGzuy3jbefeo0jnFthtISWs5d7M"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Get deals failed, Please try again.
                detailes: Promise.ressolve is not a function
                errorCode: internal
  /retailer/business/categories:
    get:
      tags:
        - Retailer > Business > Categories
      summary: Get all categories
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.25.2
            Date:
              schema:
                type: string
                example: Mon, 18 Sep 2023 00:51:40 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '746'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2ea-i3R9HMWaZtKRkU2uE7+P/E0IeH4"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Categories fetched successfully
                data:
                  - id: '1'
                    name: Automotive Services
                  - id: '2'
                    name: Beauty and Personal Care
                  - id: '3'
                    name: Car Wash
                  - id: '18'
                    name: Coffee Shops and Bakeries
                  - id: '4'
                    name: Dance Studios
                  - id: '5'
                    name: Dry Cleaners
                  - id: '6'
                    name: Entertainment
                  - id: '7'
                    name: Flower Shops
                  - id: '8'
                    name: Furniture Stores
                  - id: '9'
                    name: Gift shops
                  - id: '10'
                    name: Grocery Stores
                  - id: '11'
                    name: Health and Wellness
                  - id: '12'
                    name: Hotels and Accommodations
                  - id: '13'
                    name: Insurance Agencies
                  - id: '14'
                    name: Restaurants
                  - id: '15'
                    name: Retail Stores
                  - id: '16'
                    name: Tutoring Centers
                  - id: '17'
                    name: Wine and Liquor Stores
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Mon, 18 Sep 2023 00:14:45 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '111'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"6f-PMYYAVZFxYQi8DvShnBIytUhb+4"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to fetch categories, Please try again
                detailes: {}
                errorCode: internal
  /retailer/business/picture/{pictureId}:
    delete:
      tags:
        - Retailer > Business > Update bussiness
      summary: Delete image from business
      parameters:
        - name: pictureId
          in: path
          schema:
            type: integer
          required: true
          example: '171'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 27 Sep 2023 15:30:42 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '2259'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8d3-1cB9KCC0N3Vsi6OXiRiGpRfXohA"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Picture deleted successfully
                data:
                  - id: '145'
                    business_id: '40'
                    picture_type: owner_id
                    created_at: '2023-09-27T15:30:27.618Z'
                    picture_url: >-
                      https://storage.googleapis.com/loyaltty-app.appspot.com/business/owner_id/7723433027-39/Screenshot%202023-09-26%2008030418ad7434891.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=rsuvSbByymYkJUHjxcfK2xCGLicJpNqN38AtAygWjQw06sk7z5iVB20B8zO0Y084fk2rHaVfaaiYsB0%2FV6t49SVO7EOqBBfxAfkO1QuN0KKh30MT1rOD40ppK%2Fr1QuDjBwpJgnPVLpooRUcm0rV3ToKKOSTH2opnBvNilxkKOGInbI3EbQGXtvMu0WZWgPHI7dv9CCkmQORLyEdW8isHWb%2FAd7xLG2NU8%2Fm%2B59e6CaKyvXd5ODvJdsPKT%2FzDa6WrSwAp4ne9OJcAvfjJCycH6iUp8qA1fXscP7SNNhYWFngVZOluR6hRReIkMtfYzEmgqp3p2BB7q9s2w2G29m4Rfw%3D%3D
                  - id: '146'
                    business_id: '40'
                    picture_type: store_images
                    created_at: '2023-09-27T15:30:27.710Z'
                    picture_url: >-
                      https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433027-39/Screenshot%202023-09-21%2017424918ad743488a.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=TpG5aFPj2MUYADp0KSqfXqepcuQG8wmkWW0xgBkBimvJyA0r%2FTCEKNlewDFA4It%2FdYiWf%2BDPtcZMDHlxaYQc5ut9ioVuCDu1e%2BvLKsIva0ZBLfPbfoIsenllwEIoe%2FoTgSJIwLwp2qJpaqHPftIhGUelD71CPzE9d2hTfQoJqJoZ%2FwdP6jcIid9ZCbbGx7M4o4%2FGB3%2B8QhHeF2dsCyK9FTtmdOBUG%2BH4kDSLyOojpqmVhDT2H14r6b4XXFvkuol6Qx%2BD6Rkr08WkiSNICSLe3dnORK1zupZ02AXfM7Z4QqBG8eU9VgT2d5Vw%2BhvRvcLmZmwj1pyzKDn5Abp1zcixlw%3D%3D
                  - id: '143'
                    business_id: '40'
                    picture_type: store_images
                    created_at: '2023-09-27T15:30:27.610Z'
                    picture_url: >-
                      https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433027-39/Screenshot%202023-09-21%2017425318ad74347b8.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=xkONJtQQsqIuSBYQeNx8S97aWeEUIqYjv9aO9IKeTzE9GtHHkWAGr29QEXGIbwTUvS85mlTcbNi3qC%2BhQxJlXh9T9mqC0OIVEb%2Ba%2BVXNOicEezo7oeQ5k%2FdvjOa0SG2Ps4txwLBgJwS07h2FT72ceBhjsC%2BJwPpNk0ZHUkk0CL8LHjkRaD96HYTiF7cNZmCMuZWHiwb61qN7DAQwNOhxvakkCb9sjNsBu5vvFew81zU5QQIWNMiCV2Ugx%2FL%2BDS5DNfq%2Bl4Wh97ylOtXpTx0TsV4a8nuRgGEhnSGSws%2FHsTsWa7kktTjEr%2BYUyuzmtuuYlr8OFT%2B3XjaNjZe1jnjPkA%3D%3D
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 27 Sep 2023 15:01:44 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '70'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"46-1MMmklc991rs0zfPvwGCr05yDUA"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Picture not found
                errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 27 Sep 2023 15:01:32 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '338'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"152-cxGWWDkCc9S0Xe9WcuFRGB/C2bU"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to delete picture, Please try again
                detailes:
                  success: false
                  message: db_error
                  details:
                    length: 138
                    name: error
                    severity: ERROR
                    code: 22P02
                    where: unnamed portal parameter $1 = '...'
                    file: int8.c
                    line: '127'
                    routine: scanint8
                  errorCode: internal
                errorCode: internal
  /retailer/business/picture:
    put:
      tags:
        - Retailer > Business > Update bussiness
      summary: Update images
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                store_images:
                  type: string
                  description: 'Max: 3 images, 18MB each'
                  format: binary
      responses:
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 00:40:01 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '151'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"97-FlHQsxoQPPQEhbWa2bKbXnrAbrY"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] store have 3 pictures exist'
                  value:
                    success: false
                    message: >-
                      Store Images can not be more than 3. Please delete one of
                      the existing images to upload a new one.
                    errorCode: internal
                example-1:
                  summary: '[400] Invalid file type'
                  value:
                    success: false
                    message: >-
                      File type must be an image. allowed types: jpg, jpeg or
                      png
                    errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 00:38:56 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '145'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"91-50IWKqRlErVaxN8oni4bj8Qi1sQ"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Unexpected error occurs , Please try again.
                details: req.files[fieldName] is not iterable
                errorCode: internal
    post:
      tags:
        - Retailer > Business
      summary: Upload images
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                store_images:
                  type: string
                  description: 'Max: 3 images, 18MB each'
                  format: binary
                store_logo:
                  type: string
                  description: 'Max: 1 image, 18MB'
                  format: binary
                owner_id:
                  type: string
                  description: 'Max: 1 image, 18MB'
                  format: binary
                website_url:
                  type: string
                  description: Optional, will overwrite the old one.
                  example: http://google.com
      responses:
        '201':
          description: Created
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 02 Sep 2023 11:47:02 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '4205'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"106d-qJFeb/AtsKVWyOKu5Kzg3IVZ8qs"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Business pictures uploaded successfully.
                data:
                  - business_id: '18'
                    picture_url: >-
                      https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433027-30/Screenshot%202023-08-13%2018381218a55b7ae6c.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=JoZQgLvccLnahOmpso6yQSWHtEfYnQepJV5wjTSXa5FDyht30H9AF3ApXbtZmhSmhMNVQivukOTM%2B7CtkdzZa9rjZ0aoThjRgWn0Q1dyMhQH8FO91Oe5B3f7lboaew1F%2Bhakec2JcwdM5nxvHjHFxExnFvBJ7q5vtnRVeNxrAJrvEJCO%2BA2gyfCsY3hfdeMltvOK7SuFPAXBhlnfv%2BkovN2TzaCa8tO7i8vXJkOO3JVBtAHrmabenqEB0EyB43qH7HERysgOj7xGW%2FFQfZelGOtfH8Vf%2FayuoUSi9ZNvrK3%2Fteky74LxBYRc%2Fj1ZsprQVniQfg6DzZh57DAVNNsLRg%3D%3D
                    picture_type: store_images
                    storage_path: >-
                      business/store_images/7723433027-30/Screenshot 2023-08-13
                      18381218a55b7ae6c.png
                    storage_type: firebase
                    created_at: '2023-09-02T11:47:02.412Z'
                  - business_id: '18'
                    picture_url: >-
                      https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433027-30/Capture00118a55b7af47.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=yVda3ZjpuuCHeJWnFPmnFqLncY70FdX8kIamhTisulJTPVpWVMRyFQn5ljy5KWNulfTxetisd95L%2BgW2UTkHbWIL1zzGP5CYn4wtvKMcDVwc9lXlgwbz%2FpCG%2BYFSN1IvgirBWJTN%2FGKdECLnGReKkLmuBXUbpgrE3a1MozDT%2Fk%2B5M5r6T5x7cdQ83yLF6IjrCOJCnRATLTGRhMhKN9TQGKeaWb3IZFFaxhM1uHt86O%2Ft7H37WTI%2FrntJ38Nei5zExXVTrOiwIvwWc%2FoUYniqfeCAjbsn%2FpqMAYD9xkmwGI%2BYggrReAn2Vs9gBXWW2Y4xS2HBurW72nT%2B5xzBoLYnxQ%3D%3D
                    picture_type: store_images
                    storage_path: >-
                      business/store_images/7723433027-30/Capture00118a55b7af47.png
                    storage_type: firebase
                    created_at: '2023-09-02T11:47:02.444Z'
                  - business_id: '18'
                    picture_url: >-
                      https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433027-30/Screenshot%202023-08-06%2014461818a55b7b48b.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=b8Fgrb5r8THTqzSSciqKE0BKbHXJNZvjmXw6Ki%2FYsETFwiPIJ4TIWRjwBFqluFXYuvvEOcQAyVUVHDWa90mh9rda%2FPIjJxV24eR1yIJzPHXHoFsneehQ6SOjljEd7jn%2B0O9a6ViwU4MBjSEDvGrBGYPjwBRSqJUJ%2BJ%2Fm339yQHEoK2Ew%2Frm1yrG5IdOHxJ4ou%2BBytcjpr8ldx7HrJLZ%2Buxy01EAQFNHn5bWFSQpnm%2BPpzg38Ax5486IIQnwjZVkTQ527hX471JQHifut5mhQrlw7CRhQYiv6wRB0XE9TRfuQhLpwzxGLAt8tW5uRZJJcqeLgdKpYNu71wIe%2BrE0nqw%3D%3D
                    picture_type: store_images
                    storage_path: >-
                      business/store_images/7723433027-30/Screenshot 2023-08-06
                      14461818a55b7b48b.png
                    storage_type: firebase
                    created_at: '2023-09-02T11:47:02.447Z'
                  - business_id: '18'
                    picture_url: >-
                      https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_logo/7723433027-30/pocbot18a55b7b493.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=J9L2530Y3zHIp4F4X1NDnEbHsnl2Yrc%2FzcWEV1JkFMQGEaYgdRXFMVjrR7u0YrUNog8Jri29xBHY3juV6C%2FvJ9XgX3%2B7C7w%2BQFR86Rv1kcnDH4uNSi4jF%2BzV92OygIUIWtDPNAR%2B2RsvlrODGvVomLpBq06D1g79C8opLB1Ih11J8%2BV%2BmB4AKZC7lLYWB8%2FJqImEPNOn4T%2BuHR3dNdSxgEXxYQu0aHkL1Zaaer5X4FE5TujL74jYnfTpDfi3x5yGyK1vjqO%2BhBc7wxQl4aYyenXGqODIGHuRqxLsBk0kDBp3SbQb3ZhUVebfINnmB8scsshztDykuYtDt6gRGm3Xqw%3D%3D
                    picture_type: store_logo
                    storage_path: business/store_logo/7723433027-30/pocbot18a55b7b493.png
                    storage_type: firebase
                    created_at: '2023-09-02T11:47:02.450Z'
                  - business_id: '18'
                    picture_url: >-
                      https://storage.googleapis.com/loyaltty-app.appspot.com/business/owner_id/7723433027-30/Screenshot%202023-08-06%2014461818a55b7bd44.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=ricYbhOqkML%2FLyePj9ZTFmqsHSc5DAFAdDclc%2BOsWY5PJ0HwmCMom4oxbiBP6AAM5QtaWeyUtItLSH8aJPwLQlTlRvXkToH5yujwqY3MGPM3wUpVj1CEis6uyRxvJaS3VHFWXLBcvYkTr0v6dr6aijzzgRnoaDsQ51b5Yntv%2BUMvjP8Adn9COPDtS%2FWUFZzi8%2FEHafkcGJbfdVKEiOPJCApgQZ3jcrilDg0m94L9xlGWtv1fwDaibnS7%2FwoKKreUydwTAHGvwXbw%2FK2qjrObzmQ66iUddpzgXkTVflDPfk9ORxm%2BhOgfHvP4MwOiVLAoHCVSXC6nLtxHmgDN9kUTDQ%3D%3D
                    picture_type: owner_id
                    storage_path: >-
                      business/owner_id/7723433027-30/Screenshot 2023-08-06
                      14461818a55b7bd44.png
                    storage_type: firebase
                    created_at: '2023-09-02T11:47:02.453Z'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 02 Sep 2023 11:49:42 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '89'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"59-ax2a7S9e+MnDhttydtdpVweN3WI"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Invalid file type'
                  value:
                    success: false
                    message: >-
                      File type must be an image. allowed types: jpg, jpeg or
                      png
                example-1:
                  summary: '[400] File too large'
                  value:
                    success: false
                    message: Maximum file size exceeded
                example-2:
                  summary: '[400] Upload limit exceeded'
                  value:
                    success: false
                    message: Maximum 3 images can be uploaded for Store Images
        '403':
          description: Forbidden
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Mon, 04 Sep 2023 15:13:11 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '88'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"58-15QrpZVY1Dhg4D0ZifjQMe3Q5bI"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                message: Please register your business first
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 02 Sep 2023 11:45:39 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '142'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8e-u5nJuBhtF+fmhwR1BlyRkYPIRXY"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[500] Upload fail'
                  value:
                    success: false
                    message: >-
                      Unexpected error occurs while uploading the pictures,
                      Please try again.
                    detailes: savePictures is not defined
                example-1:
                  summary: '[500] Internal error'
                  value:
                    success: false
                    message: Unexpected error occurs , Please try again.
                    detailes: {}
  /retailer/business:
    patch:
      tags:
        - Retailer > Business > Update bussiness
      summary: Update business information
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                phone_number: +964 772 3456789
                name: tawfeeq store
                address: 'ciro '
                postal_code: '123'
                description: description
                amount: '1'
                point_amount: '1'
                website_url: https://my.com
                category: 11
                phone_country_name: iq
                country: iq
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Mon, 02 Oct 2023 05:45:52 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '718'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2ce-WRQWYbfVOte8tWJuZ1wnSFb53B0"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Business updated successfully
                data:
                  id: '43'
                  name: Ltr Store2
                  address: Iraq
                  phone_number: '7723433027'
                  user_id: '39'
                  phone_country_code: 964
                  category: '28'
                  description: >-
                    Tech store , and long dummy text,Tech store , and long dummy
                    text,Tech store , and long dummy text,Tech store , and long
                    dummy text,Tech store , and long dummy text,Tech store , and
                    long dummy text,Tech store , and long dummy text,Tech store
                    , and long dummy text,Tech store , and long dummy text
                  postal_code: 3601
                  website_url: https://google.com
                  country: EG
                  phone_country_name: ca
                  amount: 1000
                  point_amount: 10
                  created_at: '2023-10-01T13:41:10.768Z'
                  updated_at: '2023-10-02T05:45:52.389Z'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 10:18:41 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '96'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"60-54qS4QQjzltdpDBqZcgSVSGU2RQ"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Phone already exist'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Phone number already exists
                example-1:
                  summary: '[400] Validations error'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Invalid phone number
                      - Phone number must be a number
                      - Invalid phone number
                      - Business name is invalid
                      - Please select a business category
                      - Amount is invalid
                      - Point amount is invalid
                      - Postal code is invalid
                      - Address is invalid
                      - Country is invalid
                example-2:
                  summary: '[400] Validations error'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Invalid phone number
                      - Phone number must be a number
                      - Invalid phone number
                      - Business name is invalid
                      - Please select a business category
                      - Amount is invalid
                      - Point amount is invalid
                      - Postal code is invalid
                      - Address is invalid
                      - Country is invalid
                      - Phone country name is invalid
        '403':
          description: Forbidden
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 10:24:41 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '88'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"58-qYZ05IQXcpO/d+9yofVNdGxAOpI"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Please register your business first
                errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 10:24:10 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '106'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"6a-6Sc+PPeGH3ZZWSWzMwegzKTgIgw"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Bussiness not updated, Please try again
                detailes: {}
                errorCode: internal
    get:
      tags:
        - Retailer > Business
      summary: Get My business information
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Mon, 02 Oct 2023 05:46:25 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '752'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2f0-YZAVMJHBvmnx7vu6326TZ95ddHM"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Business fetched successfully
                data:
                  id: '43'
                  name: Ltr Store2
                  address: Iraq
                  phone_number: '7723433027'
                  user_id: '39'
                  phone_country_code: 964
                  category: '28'
                  description: >-
                    Tech store , and long dummy text,Tech store , and long dummy
                    text,Tech store , and long dummy text,Tech store , and long
                    dummy text,Tech store , and long dummy text,Tech store , and
                    long dummy text,Tech store , and long dummy text,Tech store
                    , and long dummy text,Tech store , and long dummy text
                  postal_code: 3601
                  website_url: https://google.com
                  country: EG
                  phone_country_name: ca
                  amount: 1000
                  point_amount: 10
                  created_at: '2023-10-01T13:41:10.768Z'
                  updated_at: '2023-10-02T05:45:52.389Z'
                  pictures:
                    count: 0
                    files: []
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 27 Sep 2023 14:10:31 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '83'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"53-XcnMdqDKz7LpxiBztJ5gvbrmFPw"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Business information not found
                errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 27 Sep 2023 14:04:46 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '326'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"146-XCh6akRmV59SivJIKupXzE4douY"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to get business information, Please try again
                detailes:
                  success: false
                  message: db_error
                  details:
                    length: 91
                    name: error
                    severity: ERROR
                    code: '42601'
                    position: '259'
                    file: scan.l
                    line: '1180'
                    routine: scanner_yyerror
                  errorCode: internal
                errorCode: internal
    post:
      tags:
        - Retailer > Business
      summary: Create new business
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                name: Ltr Store
                address: 'Iraq '
                postal_code: '3601'
                amount: '1000'
                point_amount: '10'
                category: 11
                country: IQ
                website_url: https://google.com
      responses:
        '201':
          description: Created
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Mon, 02 Oct 2023 05:48:47 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '720'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2d0-I+jH4T3k45vj/dKlrfsg67Jixso"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Business registered successfully
                data:
                  id: '44'
                  name: Ltr Store
                  address: Iraq
                  phone_number: '7723433027'
                  user_id: '39'
                  phone_country_code: 964
                  category: '19'
                  description: >-
                    Tech store , and long dummy text,Tech store , and long dummy
                    text,Tech store , and long dummy text,Tech store , and long
                    dummy text,Tech store , and long dummy text,Tech store , and
                    long dummy text,Tech store , and long dummy text,Tech store
                    , and long dummy text,Tech store , and long dummy text
                  postal_code: 3601
                  website_url: https://google.com
                  country: IQ
                  phone_country_name: US
                  amount: 1000
                  point_amount: 10
                  created_at: '2023-10-02T05:48:47.078Z'
                  updated_at: '2023-10-02T05:48:47.078Z'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 30 Aug 2023 16:44:36 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '96'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"60-m9vPcV6o8v3sUklFc+KrgA4COjQ"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Business already registered'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Business already registered
                example-1:
                  summary: '[400] Phone number already exists'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Phone number already exists
                example-2:
                  summary: '[400] Validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Invalid phone number
                      - Phone number must be a number
                      - Business name is invalid
                      - Country code is invalid
                      - Phone country name is invalid
                      - Please select a business category
                      - Business description is invalid
                      - Amount is invalid
                      - Point amount is invalid
                      - Postal code is invalid
                      - Address is invalid
                      - Country is invalid
                      - Business already registered
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 30 Aug 2023 16:28:49 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '66'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"42-7sbmPt+CTUsKbGfX3dXCn+jvUBE"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Business not added, Please try again
  /retailer/business/{businessId}:
    get:
      tags:
        - Retailer > Business
      summary: Get business information  by id
      parameters:
        - name: businessId
          in: path
          schema:
            type: integer
          required: true
          example: '8'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Mon, 02 Oct 2023 05:46:12 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '752'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2f0-YZAVMJHBvmnx7vu6326TZ95ddHM"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Business fetched successfully
                data:
                  id: '43'
                  name: Ltr Store2
                  address: Iraq
                  phone_number: '7723433027'
                  user_id: '39'
                  phone_country_code: 964
                  category: '28'
                  description: >-
                    Tech store , and long dummy text,Tech store , and long dummy
                    text,Tech store , and long dummy text,Tech store , and long
                    dummy text,Tech store , and long dummy text,Tech store , and
                    long dummy text,Tech store , and long dummy text,Tech store
                    , and long dummy text,Tech store , and long dummy text
                  postal_code: 3601
                  website_url: https://google.com
                  country: EG
                  phone_country_name: ca
                  amount: 1000
                  point_amount: 10
                  created_at: '2023-10-01T13:41:10.768Z'
                  updated_at: '2023-10-02T05:45:52.389Z'
                  pictures:
                    count: 0
                    files: []
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 27 Sep 2023 14:50:34 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '65'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"41-oQryLvciLGDs3Bp7XbjCw5Km42Q"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[403] forbidden | getting someones bussiness'
                  value:
                    success: false
                    message: Unauthorized
                    errorCode: internal
                example-1:
                  summary: '[404] Not found'
                  value:
                    success: false
                    message: Business information not found
                    errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 27 Sep 2023 14:04:46 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '326'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"146-XCh6akRmV59SivJIKupXzE4douY"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to get business information, Please try again
                detailes:
                  success: false
                  message: db_error
                  details:
                    length: 91
                    name: error
                    severity: ERROR
                    code: '42601'
                    position: '259'
                    file: scan.l
                    line: '1180'
                    routine: scanner_yyerror
                  errorCode: internal
                errorCode: internal
  /retailer/business/shoutout:
    post:
      tags:
        - Retailer > Business
      summary: Send Shout out
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                to: active_customer
                message: Hello there
                testing_only_force_sent: true
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 25 Nov 2023 15:21:55 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '84'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"54-JjC91xMIaoQREW018b9fJoSZeR0"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: Shoutout sent successfully
                data: []
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 25 Nov 2023 15:31:13 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '125'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"7d-r0/ho2jLCycV5SE7oc7NkVarOu0"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: validation_error
                errorMessages:
                  - Invalid reviver type
                  - Shoutout message can not be empty
        '429':
          description: Too Many Requests
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 25 Nov 2023 15:26:36 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '144'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"90-wpuljNHLMxaLI9G7mPp8N0XxMJw"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Shoutout limit exceeded, You can send 1 shoutouts per week
                detailes: {}
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 25 Nov 2023 15:19:15 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '163'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"a3-SJK+O/4uWR7QbIVH9rwqZQgV7Bc"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: >-
                  An error occurred while sending shoutout, Please try again or
                  contact support
                detailes: {}
  /auth/retailer/register:
    post:
      tags:
        - Retailer > Authentication > Registeration
      summary: Register user information
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                phone_number: '7723433027'
                phone_country_code: '+961'
                accept_contact: 'true'
                password: Aa12345@@
                confirm_password: Aa12345@@
                owner_name: tawfeeq
                email: tawfekaltaae3@gmail.com
      parameters:
        - name: Accept-Language
          in: header
          schema:
            type: string
          example: en
      responses:
        '201':
          description: Created
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '271'
            ETag:
              schema:
                type: string
                example: W/"10f-INYcV97bJx0hc3036/xH1FC5XBg"
            Date:
              schema:
                type: string
                example: Mon, 28 Aug 2023 11:04:35 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Retailer added successfully
                data:
                  id: '24'
                  phone_number: 1234567890
                  phone_country_code: 987
                  name: yousef
                  email: yousef@mail.com
                  user_type: retailer
                  created_at: '2023-08-28T11:04:35.171Z'
                  updated_at: '2023-08-28T11:04:35.171Z'
        '400':
          description: Bad Request
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '96'
            ETag:
              schema:
                type: string
                example: W/"60-54qS4QQjzltdpDBqZcgSVSGU2RQ"
            Date:
              schema:
                type: string
                example: Mon, 28 Aug 2023 12:27:01 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] used phone number'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Phone number already exists
                example-1:
                  summary: '[400] Validation error'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Phone number is invalid
                      - Phone number must be a number
                      - Password must be at least 6 characters long
                      - E-mail address is invalid
                      - owner name is invalid
                      - Password and confirm password must match
                      - Country code is invalid
                      - accept_contact_must_be_boolean
        '500':
          description: Internal Server Error
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '61'
            ETag:
              schema:
                type: string
                example: W/"3d-SD3vwWquSgxM9/+pz1rGHEOz2Oc"
            Date:
              schema:
                type: string
                example: Mon, 28 Aug 2023 11:05:32 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Retailer not added
                details: {}
  /auth/retailer/change-phone-number:
    post:
      tags:
        - Retailer > Authentication > Registeration
      summary: Change phone number
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                phone_number: '+9647723433027'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 10 Oct 2023 18:26:40 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '83'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"53-jRxosY4dunU/QNisV0iWtMZqh/s"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Retailer information updated successfully.
                data: true
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 10 Oct 2023 18:31:15 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '96'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"60-54qS4QQjzltdpDBqZcgSVSGU2RQ"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Validation (phone already exist'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Phone number already exists
                example-1:
                  summary: '[400] Validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Phone number is invalid
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 10 Oct 2023 18:31:41 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '142'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8e-bi4tTk6VzwQVFP/7sZIyXVBixr8"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to update Retailer information, Please try again.
                details: invalid_phone_number
                errorCode: internal
  /auth/retailer/resend-otp:
    get:
      tags:
        - Retailer > Authentication > Registeration
      summary: Resend OTP message
      responses:
        '200':
          description: OK
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '50'
            ETag:
              schema:
                type: string
                example: W/"32-pRwUobPmRoJzFLVY41CvCHoem1Q"
            Date:
              schema:
                type: string
                example: Tue, 29 Aug 2023 20:56:57 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[200] send successfully'
                  value:
                    success: true
                    message: OTP sent successfully
                example-1:
                  summary: '[200] Send successfully(New)'
                  value:
                    success: true
                    message: OTP sent successfully
                    data:
                      otp_code: '021824'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Mon, 04 Sep 2023 14:41:21 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '60'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"3c-QCfqZiZWcf4Wn1GE8kqwcALFiAw"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Phone number already verified.
        '403':
          description: Forbidden
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '42'
            ETag:
              schema:
                type: string
                example: W/"2a-koQjuwovy/rcqw7LPoswnw2GcHM"
            Date:
              schema:
                type: string
                example: Tue, 29 Aug 2023 20:57:14 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: unauthorized
  /auth/retailer/verify-otp:
    post:
      tags:
        - Retailer > Authentication > Registeration
      summary: Verify OTP
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                otp_code: 8540
      responses:
        '200':
          description: OK
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '64'
            ETag:
              schema:
                type: string
                example: W/"40-uftpYRutV4kIasLchso/sng9oMY"
            Date:
              schema:
                type: string
                example: Tue, 29 Aug 2023 21:36:59 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Phone number verified successfully.
        '400':
          description: Bad Request
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '46'
            ETag:
              schema:
                type: string
                example: W/"2e-pSLUA7fIY5EU9oW11WKUZy0VHu8"
            Date:
              schema:
                type: string
                example: Tue, 29 Aug 2023 21:37:41 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] invalid otp code'
                  value:
                    success: false
                    message: Invalid OTP code
                example-1:
                  summary: '[400] validation error'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Invalid OTP code
                example-2:
                  summary: '[400] Already verified(New)'
                  value:
                    success: false
                    message: Phone number already verified
        '403':
          description: Forbidden
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '42'
            ETag:
              schema:
                type: string
                example: W/"2a-koQjuwovy/rcqw7LPoswnw2GcHM"
            Date:
              schema:
                type: string
                example: Tue, 29 Aug 2023 20:57:14 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: unauthorized
  /auth/retailer/login:
    post:
      tags:
        - Retailer > Authentication > Login & Logout & verify token
      summary: Retailer login
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                identity: '+201287719426'
                password: 123456Aa!
      security:
        - noauthAuth: []
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 17 Sep 2023 23:06:53 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '980'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"3d4-bUzZXTcfdiRdDy+HzEwleHZ6uYk"
          content:
            application/json:
              schema:
                type: object
              example:
                retailer:
                  id: '30'
                  name: yousef
                  phone_number: '7723433027'
                  phone_country_code: 964
                  email: yousef@mail.com
                  firebase_uid: 8XlZebqnK3Oyxc84KswBIPnXBq33
                  is_verified: false
                  user_type: retailer
                  created_at: '2023-08-29T17:16:16.059Z'
                  updated_at: '2023-08-29T17:16:16.059Z'
                  accept_contact: true
                  has_welcome_deal: false
                  has_business: false
                token:
                  access_token: >-
                    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiMzAiLCJuYW1lIjoieW91c2VmIiwicGhvbmVfbnVtYmVyIjoiNzcyMzQzMzAyNyIsInBob25lX2NvdW50cnlfY29kZSI6OTY0LCJlbWFpbCI6InlvdXNlZkBtYWlsLmNvbSIsImZpcmViYXNlX3VpZCI6IjhYbFplYnFuSzNPeXhjODRLc3dCSVBuWEJxMzMiLCJpc192ZXJpZmllZCI6ZmFsc2UsInVzZXJfdHlwZSI6InJldGFpbGVyIiwiY3JlYXRlZF9hdCI6IjIwMjMtMDgtMjlUMTc6MTY6MTYuMDU5WiIsInVwZGF0ZWRfYXQiOiIyMDIzLTA4LTI5VDE3OjE2OjE2LjA1OVoiLCJhY2NlcHRfY29udGFjdCI6dHJ1ZSwiaGFzX3dlbGNvbWVfZGVhbCI6ZmFsc2UsImhhc19idXNpbmVzcyI6ZmFsc2V9LCJpYXQiOjE2OTQ5OTIwMTMsImV4cCI6MTcxMDU0NDAxM30.XPwXV3hZnHRZit60aMjfB-tAqBZ-cyqSwWknUK427IU
        '400':
          description: Bad Request
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '65'
            ETag:
              schema:
                type: string
                example: W/"41-KRJ40lVTxnhcAB7pL/uHN79+vQM"
            Date:
              schema:
                type: string
                example: Tue, 29 Aug 2023 20:51:14 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Incorrect password'
                  value:
                    success: false
                    message: Incorect password, please try again
                example-1:
                  summary: '[400] retailer not found'
                  value:
                    success: false
                    message: Retailer not found
                example-2:
                  summary: '[400] Validation error'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - >-
                        Password must be strong, with a minimum of 8 characters,
                        at least 1 uppercase letter, 1 lowercase letter, 1
                        number, and 1 special character.
                      - Phone number or email is Incorect.
                example-3:
                  summary: '[400] Validation (Invalid phone number or email)'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Please enter a valid phone number or email.
                example-4:
                  summary: '[400] Deleted account'
                  value:
                    success: false
                    errorCode: internal
                    next_action: restore
                    message: >-
                      Your account is being deleted, you can still restore it
                      within 30 days.
  /auth/retailer/logout:
    get:
      tags:
        - Retailer > Authentication > Login & Logout & verify token
      summary: Retailer logout
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 02 Sep 2023 14:50:18 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '48'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"30-xmW6DSsRAJAngQ9Eax7J/qZWbrU"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: logout_successfully
        '403':
          description: Forbidden
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 02 Sep 2023 14:50:36 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '70'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"46-kOJrGKcOzx+bP6K/abn0KBudxKs"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: unauthorized
                details: token not found
  /auth/retailer/verify-token:
    get:
      tags:
        - Retailer > Authentication > Login & Logout & verify token
      summary: Verify token
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 14 Sep 2023 13:54:53 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '333'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"14d-6C9gdnSLomV0bjIFLr2PEX6g8l4"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[200] Dont have business or welcome deal'
                  value:
                    success: true
                    message: Token verified successfully
                    data:
                      id: '30'
                      phone_number: '7723433027'
                      phone_country_code: 964
                      name: yousef
                      email: yousef@mail.com
                      user_type: retailer
                      created_at: '2023-08-29T17:16:16.059Z'
                      updated_at: '2023-08-29T17:16:16.059Z'
                      has_business: false
                      has_welcome_deal: false
                      business: {}
                example-1:
                  summary: '[200] business no welcome deal'
                  value:
                    success: true
                    message: Token verified successfully
                    data:
                      id: '30'
                      phone_number: '7723433027'
                      phone_country_code: 964
                      name: yousef
                      email: yousef@mail.com
                      user_type: retailer
                      created_at: '2023-08-29T17:16:16.059Z'
                      updated_at: '2023-08-29T17:16:16.059Z'
                      has_business: true
                      has_welcome_deal: false
                      business:
                        id: '30'
                        name: Ltr Store
                        address: Iraq
                        postal_code: 3601
                        phone_number: '7723433027'
                        phone_country_code: 964
                        category: technology
                        user_id: '30'
                        website_url: https://google.com
                        description: >-
                          Tech store , and long dummy text,Tech store , and long
                          dummy text,Tech store , and long dummy text,Tech store
                          , and long dummy text,Tech store , and long dummy
                          text,Tech store , and long dummy text,Tech store , and
                          long dummy text,Tech store , and long dummy text,Tech
                          store , and long dummy text
                        country: IQ
                        amount: 1000
                        point_amount: 10
                        created_at: '2023-09-14T13:57:02.900Z'
                        updated_at: '2023-09-14T13:57:02.900Z'
                example-2:
                  summary: '[200] business & welcome deal'
                  value:
                    success: true
                    message: Token verified successfully
                    data:
                      id: '30'
                      phone_number: '7723433027'
                      phone_country_code: 964
                      name: yousef
                      email: yousef@mail.com
                      user_type: retailer
                      created_at: '2023-08-29T17:16:16.059Z'
                      updated_at: '2023-08-29T17:16:16.059Z'
                      has_business: true
                      has_welcome_deal: true
                      business:
                        id: '30'
                        name: Ltr Store
                        address: Iraq
                        postal_code: 3601
                        phone_number: '7723433027'
                        phone_country_code: 964
                        category: technology
                        user_id: '30'
                        website_url: https://google.com
                        description: >-
                          Tech store , and long dummy text,Tech store , and long
                          dummy text,Tech store , and long dummy text,Tech store
                          , and long dummy text,Tech store , and long dummy
                          text,Tech store , and long dummy text,Tech store , and
                          long dummy text,Tech store , and long dummy text,Tech
                          store , and long dummy text
                        country: IQ
                        amount: 1000
                        point_amount: 10
                        created_at: '2023-09-14T13:57:02.900Z'
                        updated_at: '2023-09-14T13:57:02.900Z'
                example-3:
                  summary: '[200] Success(with pictures)'
                  value:
                    success: true
                    next_action: null
                    message: Token verified successfully
                    data:
                      id: '2'
                      name: tawfek
                      phone_number: '7723433027'
                      phone_country_code: 964
                      email: tawfek@yahoo.com
                      firebase_uid: riphoX0VWlNxU8EjpOoDVn7ZJA62
                      is_verified: true
                      user_type: retailer
                      accept_contact: true
                      created_at: '2023-12-27T12:08:23.990Z'
                      updated_at: '2023-12-27T12:08:23.990Z'
                      role: retailer
                      has_business: true
                      employee_id: '2'
                      has_welcome_deal: true
                      business:
                        id: '2'
                        name: tawfeeq storeet
                        address: iraq kirkuk
                        postal_code: 36001
                        phone_number: '7723433027'
                        phone_country_code: 964
                        category: '1'
                        user_id: '2'
                        website_url: http://google.com
                        description: its a good business
                        country: IQ
                        amount: 1000
                        point_amount: 10
                        created_at: '2023-12-30T12:02:09.417Z'
                        updated_at: '2024-01-24T05:36:28.916Z'
                        phone_country_name: IQ
                        lng: 44.3953896
                        lat: 35.4719308
                        disabled_at: null
                        pictures:
                          - id: '16'
                            url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433027-2/Screenshot%202023-04-10%2023202118d5f876f7e.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441228800&Signature=aHfkNVBA9dEKbR9B%2FvekoJ58yyKtsNp7DYbpoaaAewq68Dl%2BTDKPtzSJpqYF%2Bk7GRGBZe1COwqVfsnjLq2aKnrzxnXyu8T51JsrBVDzyUfLdvo2gcDunl82VTfg6bgnX148BeItpk8rHWy%2FmKmH1IdHfvsJjURydXlhhoqpErVYW0CcZYvWo6JE4Zot3swC9Z8T8rKjJykLMOqa5GpJssxIJYWXLFSMcERm4fb3rBdluGHGB2ITPJRg02cjosAZOSyuMSkk7AGluJeTkKvOKTOVdOWNzQaL7FOzD1T2shADMfhRKPMQccyvT5XFsmCwSpWuhP%2Fn1SfioORhNMKlmhw%3D%3D
                            type: store_images
                          - id: '18'
                            url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_logo/7723433027-2/download%20%281%2918d5f8772e1.jpg?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441228800&Signature=ftKBsQCTOBdRUFYCHVwo9ImwdLgZkH%2FGp0gbns7j1d2WwvTIHU70UMqVLx1vmdQRQ7iXZSMsbH5AffTacX94IAapluh8C4Ch7BhhZMDw0sTCAXyN%2FTgeXo3PN0c1tu5CPBXw%2FnA%2F9ybDFvlALtr%2FSoSW6nyGatUqqEoYmSdUGvY3fATJ494MO29GLsQ9BYEijrBL5L31ZJlq%2B%2F6%2F%2BONYwIwG14kFa4GzQENagvG80jErRKEMPyEP3%2F65dJK23ANroACLTczwVKjuOrmIjK9I2yllV64IHt0P5VkdyyFj%2BW3xUJBXiiDYYpr0eMqFILOzsAZW59KWiRGw5LD83nn8mQ%3D%3D
                            type: store_logo
        '403':
          description: Forbidden
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 14 Sep 2023 13:59:14 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '65'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"41-SP/yKGGj1IeKo+CxRmrzDERl9Lw"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: unauthorized
                errorCode: internal
  /auth/retailer/forgot-password:
    post:
      tags:
        - Retailer > Authentication > Forgot password
      summary: Forgot password
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                phone_country_code: '+964'
                phone_number: '7723433027'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 02 Sep 2023 12:33:31 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '71'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"47-cWchLx7OasGoG7bG7+q/viGGS6M"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: An SMS has been send to your phone number.
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 02 Sep 2023 13:39:17 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '87'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"57-nMxJ64uY9ra0HMLfZDtPmDUd/Oo"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Retailer not found'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Retailer not found
                example-1:
                  summary: '[400] Validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Phone number is invalid
                      - Phone number must be a number
                      - Retailer not found
                      - Country code is invalid
  /auth/retailer/verify-forgot-password:
    post:
      tags:
        - Retailer > Authentication > Forgot password
      summary: Verify forgot password
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                phone_country_code: '+964'
                phone_number: '7723433027'
                otp_code: '1440'
                new_password: aA12345!@
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 02 Sep 2023 12:52:10 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '59'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"3b-Gyjk891QgGYFJm3EzGd3yWq2tgs"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Password changed successfully.
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 02 Sep 2023 12:44:25 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '46'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2e-pSLUA7fIY5EU9oW11WKUZy0VHu8"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Invalid otp code'
                  value:
                    success: false
                    message: Invalid OTP code
                example-1:
                  summary: '[400] Validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Phone number is invalid
                      - Phone number must be a number
                      - Retailer not found
                      - Country code is invalid
                      - OTP code must be a number
                      - Invalid OTP code
                      - Password must be at least 6 characters long
  /auth/retailer/change-password:
    post:
      tags:
        - Retailer > Authentication
      summary: Change Password
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                current_password: aA12345!@
                new_password: aA12345!@
                confirm_new_password: aA12345!@
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 06:38:43 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '1059'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"423-OVCcP+bFCdDZNK9KlEvXLqERdAc"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Retailer information updated successfully.
                data:
                  retailer:
                    id: '39'
                    name: My store
                    phone_number: '7723433027'
                    phone_country_code: 964
                    email: tawfeq@gmail.com
                    firebase_uid: GvqpekCgAofsKK7Pcuy3x36gQcI3
                    is_verified: true
                    user_type: retailer
                    created_at: '2023-09-18T08:48:01.305Z'
                    updated_at: '2023-09-18T08:48:01.305Z'
                    accept_contact: true
                    has_welcome_deal: true
                    has_business: true
                  token:
                    access_token: >-
                      eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiMzkiLCJuYW1lIjoiTXkgc3RvcmUiLCJwaG9uZV9udW1iZXIiOiI3NzIzNDMzMDI3IiwicGhvbmVfY291bnRyeV9jb2RlIjo5NjQsImVtYWlsIjoidGF3ZmVxQGdtYWlsLmNvbSIsImZpcmViYXNlX3VpZCI6Ikd2cXBla0NnQW9mc0tLN1BjdXkzeDM2Z1FjSTMiLCJpc192ZXJpZmllZCI6dHJ1ZSwidXNlcl90eXBlIjoicmV0YWlsZXIiLCJjcmVhdGVkX2F0IjoiMjAyMy0wOS0xOFQwODo0ODowMS4zMDVaIiwidXBkYXRlZF9hdCI6IjIwMjMtMDktMThUMDg6NDg6MDEuMzA1WiIsImFjY2VwdF9jb250YWN0Ijp0cnVlLCJoYXNfd2VsY29tZV9kZWFsIjp0cnVlLCJoYXNfYnVzaW5lc3MiOnRydWV9LCJpYXQiOjE2OTU4ODMxMjMsImV4cCI6MTcxMTQzNTEyM30.AW2J6bryKjn0Y5JHiawZtdDYjYdAkQTonEUe47MfGFo
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 06:36:06 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '145'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"91-tBJGZF15EzXZQwW/WzpCPl2unxc"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Incorrect password'
                  value:
                    success: false
                    message: >-
                      Incorrect password, If you forgot your password, please
                      logout and click on forgot password.
                    errorCode: internal
                example-1:
                  summary: '[400] Validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - >-
                        Incorrect password, If you forgot your password, please
                        logout and click on forgot password.
                      - >-
                        Password must be strong, with a minimum of 8 characters,
                        at least 1 uppercase letter, 1 lowercase letter, 1
                        number, and 1 special character.
                      - Password and confirm password must match
        '403':
          description: Forbidden
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 06:43:04 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '93'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"5d-ItxNlIyjGtrX/DaejFwpgfkG46g"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: unauthorized
                details: token not found
                errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 06:41:38 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '153'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"99-OnQXxLLxeLRmvOGmh5LqGH/1Hx8"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to update Retailer information, Please try again.
                details: newRetailerInfso is not defined
                errorCode: internal
  /auth/retailer/employee/{employeeId}:
    delete:
      tags:
        - Retailer > Employees
      summary: Remove employee
      parameters:
        - name: employeeId
          in: path
          schema:
            type: integer
          required: true
          example: '1'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 08:51:59 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '69'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"45-HdhsHT9OQ9nQJ1k45ugGKQrUqcA"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Employee deleted successfully.
                data: {}
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 08:55:22 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '72'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"48-77vZH9y6BVu3Z5caKr5sfvH468Y"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Employee not found.
                errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 08:51:15 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '117'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"75-hq7MJFZBjbQE2qoeKxkiurb5Sc0"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to delete employee.
                details: 'Error: employee_not_found'
                errorCode: internal
  /auth/retailer/employee:
    get:
      tags:
        - Retailer > Employees
      summary: Get all employees
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 08:46:53 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '233'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"e9-X0HZRue1mrGz8S3EEu1dQSCLoe0"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: get_employee_successfully
                data:
                  - id: '1'
                    phone_number: '+9647724330237'
                    phone_country_code: '964'
                    phone_country_name: IQ
                    password_unencrypted: Aa12345@
                    created_at: '2023-10-05T08:30:47.858Z'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 08:48:43 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '109'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"6d-adTZBDxe+I0SaSzFTBesHPJUizw"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to get employee data.
                details: '[object Object]'
                errorCode: internal
  /auth/retailer/verify_employee_verification_otp:
    post:
      tags:
        - Retailer > Employees
      summary: Employee otp verification
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                token: 41cd4b74-c482-48e4-b08a-8c55759aa541
                otp_code: '4321'
      security:
        - bearerAuth: []
      responses:
        '200':
          description: OK
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '83'
            ETag:
              schema:
                type: string
                example: W/"53-y3jgr+9H8zriO1ldcgbD7FG+umg"
            Date:
              schema:
                type: string
                example: Tue, 10 Dec 2024 05:15:46 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: Phone number verified successfully.
        '400':
          description: Bad Request
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '88'
            ETag:
              schema:
                type: string
                example: W/"58-rE9kfVFzX8UqJ3T6Tfj49Y7C4+M"
            Date:
              schema:
                type: string
                example: Tue, 10 Dec 2024 05:26:46 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Invalid OTP code
        '403':
          description: Forbidden
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '84'
            ETag:
              schema:
                type: string
                example: W/"54-Ftl2dvaN8H4cbswrGiymV6HyrxA"
            Date:
              schema:
                type: string
                example: Tue, 10 Dec 2024 05:17:28 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: unauthorized
  /auth/retailer/send_employee_verification_otp:
    post:
      tags:
        - Retailer > Employees
      summary: Employee send otp
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                phone_number: '+918873541228'
                phone_country_code: '+91'
      security:
        - bearerAuth: []
      responses:
        '400':
          description: Bad Request
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '112'
            ETag:
              schema:
                type: string
                example: W/"70-PTlgXSvFQZNEaqMz0UM3ToV8LDY"
            Date:
              schema:
                type: string
                example: Tue, 10 Dec 2024 04:52:38 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Employee already exists'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: Employee already exist in this business.
                example-1:
                  summary: '[400] Validation error Copy'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Invalid phone number.
                example-2:
                  summary: '[500] Internal server error'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Invalid phone number.
        '403':
          description: Forbidden
          headers:
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '84'
            ETag:
              schema:
                type: string
                example: W/"54-Ftl2dvaN8H4cbswrGiymV6HyrxA"
            Date:
              schema:
                type: string
                example: Tue, 10 Dec 2024 04:54:24 GMT
            Connection:
              schema:
                type: string
                example: keep-alive
            Keep-Alive:
              schema:
                type: string
                example: timeout=5
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: unauthorized
        undefined:
          content:
            text/plain:
              schema:
                type: string
              example: ''
  /retailer/business/reward:
    post:
      tags:
        - Retailer > Reward
      summary: Create or Update Reward
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                name: it works like a charm
                value: '121'
                currency: usd
                total_stamps: 5
                days_number: 210
                expired_at: '2024-12-10'
                description: hi im description
                terms_and_conditions: no terms_and_conditions
      responses:
        '201':
          description: Created
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 10:22:22 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '317'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"13d-RDDPZzam/vzd0hqtt8tQZu5DKAY"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Reward created successfully
                data:
                  id: '3'
                  name: as
                  value: '1'
                  currency: a
                  total_stamps: '10'
                  days_number: '1'
                  expired_at: '2023-10-09T21:00:00.000Z'
                  description: d
                  terms_and_conditions: ds
                  created_at: '2023-10-05T10:22:22.396Z'
                  updated_at: '2023-10-05T10:22:22.396Z'
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 10:24:53 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '257'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"101-f0ax6tF/IP20FuwLhUQKu7aRrKo"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: validation_error
                errorMessages:
                  - Invalid Reward Name
                  - Invalid Reward Description
                  - Invalid Currency
                  - Invalid Reward Value
                  - Invalid Total Stamps
                  - Invalid Days Number
                  - Invalid Expire Date
                  - Invalid Terms and Conditions
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 10:34:47 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '111'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"6f-vdHs4avJAdt4rSofP6tjOY6tKCM"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Reward not created, Please try again
                detailes: db_error
                errorCode: internal
    get:
      tags:
        - Retailer > Reward
      summary: Get Reward info
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 10:22:51 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '317'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"13d-pMOOv0KwFme6yRoRpIPI3s+mEME"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Reward fetched successfully
                data:
                  id: '3'
                  name: as
                  value: '1'
                  currency: a
                  total_stamps: '10'
                  days_number: '1'
                  expired_at: '2023-10-09T21:00:00.000Z'
                  description: d
                  terms_and_conditions: ds
                  created_at: '2023-10-05T10:22:22.396Z'
                  updated_at: '2023-10-05T10:22:22.396Z'
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 10:21:51 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '69'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"45-s73G0iMCfXSavoPC+P2IPQUoz7c"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Reward not found
                errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 10:16:02 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '111'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"6f-7FsUVf8cU+pmUqQ8Is9ooutylik"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Reward not fetched, Please try again
                detailes: db_error
                errorCode: internal
    delete:
      tags:
        - Retailer > Reward
      summary: Delete Current reward
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 10:25:44 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '317'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"13d-mo9/6DANUyIdg9TVaRdv9zC66os"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Reward deleted successfully
                data:
                  id: '3'
                  name: as
                  value: '1'
                  currency: a
                  total_stamps: '10'
                  days_number: '1'
                  expired_at: '2023-10-09T21:00:00.000Z'
                  description: d
                  terms_and_conditions: ds
                  created_at: '2023-10-05T10:22:22.396Z'
                  updated_at: '2023-10-05T10:22:22.396Z'
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 10:33:57 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '69'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"45-s73G0iMCfXSavoPC+P2IPQUoz7c"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Reward not found
                errorCode: internal
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 05 Oct 2023 10:26:09 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '103'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"67-qSBRr81SVbXnxMfzsitXIDynY5k"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Reward not deleted, Please try again
                detailes: {}
                errorCode: internal
  /retailer/business/reward/request/{customerId}:
    get:
      tags:
        - Retailer > Reward
      summary: Request stamp on behalf customer
      parameters:
        - name: customerId
          in: path
          schema:
            type: integer
          required: true
          example: '3'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Mar 2024 00:55:27 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '4733'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"127d-BRemQJ7+P874rC9Ln9meF6XhZzQ"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: stamp_requested_successfully
                data:
                  customer_stamps: 0
                  id: '1'
                  name: TawfeeqBusiness
                  address: iraq, kirkuk
                  phone_number: null
                  user_id: '1'
                  phone_country_code: 0
                  category: '1'
                  description: ''
                  postal_code: 36001
                  website_url: http://google.com
                  country: IQ
                  phone_country_name: ''
                  amount: 1000
                  point_amount: 10
                  created_at: '2024-01-07T23:18:03.543Z'
                  updated_at: '2024-01-07T23:18:03.543Z'
                  pictures:
                    count: 2
                    files:
                      - id: '1'
                        business_id: '1'
                        picture_type: store_images
                        created_at: '2024-01-31T12:30:08.542Z'
                        picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433027-1/Screenshot%202023-04-10%2023202118d5f7f67ed.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=EV8IKtMa5BLf%2FAbSNebzNwvZFLXXkIKlETP9SPwq%2B6ff%2FegncgqY9cvZAbSYvSuzAdMwbC7DfDafiLz%2FL8z6%2FRtKPG67hCeAWdo%2Fs7NeW2x0Er1EzkjccNqdK%2BL%2BP%2B2HdlI0cDvxFuUbCTZtqxOvQ0AoIS%2FB8WcGC1YnBWFDkWCu7UpBH%2FsBhK5TSCQAdDCb51uiA%2BCK2fKoY%2BmNDg6k2H5uJ8ccLnpuZYEO0eoKTJCoBJyv67fofBfNODqazm3LZbgElGeEfkpP21ipAqP1GhccudyErnMY2PA2%2BQI6p4Mq93Mg%2F3Wq4whROh351MeSiee%2BErJRf0jodlIrbewNSw%3D%3D
                      - id: '2'
                        business_id: '1'
                        picture_type: store_images
                        created_at: '2024-01-31T12:30:08.582Z'
                        picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433027-1/%D8%A7%D9%81%D8%B6%D9%84%20%D8%A7%D8%B3%D8%AA%D8%B1%D8%A7%D8%AA%D9%8A%D8%AC%D9%8A%D8%A9%20%D9%84%D8%AA%D9%86%D8%B8%D9%8A%D9%85%20%D8%A7%D9%84%D9%88%D9%82%D8%AA%20%D9%84%D9%84%D8%B7%D9%84%D8%A7%D8%A818d5f7f7982.jpg?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=uaOZvWjY7rvJFAV3wlMKnC0JjsPhb%2Ft1fK48UVysHdZ8i50ZDToVISmoUTTP5NBiSklRN4sRrMLC48hR5mmk9XrrhqsBV9c%2B5LdYS3q9f5NnPpdn5rEbvM4xSpMk90wxKQAqKeUbn4700cQ38w8nzkIZ08UcdTqOnIe7Rzc6rGfMYt5cLM4AHJFZOgcijJh298CK2F0ke9HmfePwsBo0NK0ul0VUaSfA9Y%2BVGzOExZSgO%2F61d8q1gJNKYO2%2BBx1X6iHmn%2BciOejWmfisdCt68Mw8H2P8sVhUgENz6BxnK0TgRRwj3xfcddSBoBthKXkDY%2FhWh4Kh0W82IC05%2F8TqIA%3D%3D
                  deals:
                    - id: '1'
                      name: Welcome deal test
                      num_of_visits: null
                      type: welcome
                      price: 15
                      currency: USD
                      description: very long description
                      full_details: very long details
                      start_date: null
                      end_date: null
                      repeat: '{}'
                      repeat_type: null
                      terms_and_conditions: very long terms of use
                      business_id: '1'
                      created_at: '2023-01-07T23:22:59.803Z'
                      updated_at: '2024-01-07T23:22:59.803Z'
                      deal_picture_url: >-
                        https://storage.googleapis.com/loyaltty-app.appspot.com/deal/1/fb25c3f2-8ba1-4042-ad1e-6e795abc2a1018ce63c90db.jpg?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=OqTlqjVNMQnx2q3iT%2FwjXtiN%2FDAxmcdh7jq%2FUYlLYZ25aw1dUoHVnUlWgY%2BYr8R2QAni1mZTBYBGV0pvqAnXTt4%2F0V3rfxuPOIrldUsnyuRLf6cXp2%2BDXZITjeJeMedbLxKmKY6uKnOTLDW7UWUKp1fQ0pTL9WjRWbjL%2BI7vjIiLzgpiyYiqMnC6dyJZXJmhjlbAoP%2FPULgJkgctDczrnnEsBuk%2BbUKZWYtF17i5tOBVd61DBwt6rqvCGGHMY809qnfPAcKr0BVucyMJnzGeA8ZUEY8mzZxQzRhVATEjMLMEKzYvC9tmzLy1HIHe2n4w93ISzUFu%2FRRd%2Fnq3cKSKWA%3D%3D
                    - id: '2'
                      name: My postman deal
                      num_of_visits: null
                      type: deal
                      price: 10
                      currency: USD
                      description: very long description
                      full_details: very long details
                      start_date: '2024-01-07T21:00:00.000Z'
                      end_date: '2024-05-09T21:00:00.000Z'
                      repeat: '{}'
                      repeat_type: all
                      terms_and_conditions: very long terms of use
                      business_id: '1'
                      created_at: '2024-02-07T23:32:22.405Z'
                      updated_at: '2024-01-07T23:32:22.405Z'
                      deal_picture_url: >-
                        https://storage.googleapis.com/loyaltty-app.appspot.com/deal/1/Screenshot%202023-09-30%2023304518ce645289b.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=4ZGcM4poVwPocBWhxTzICUC0jC8UhLeMQPZAA%2BOiUrunStQAL36HITAKiLWQ5t4yEk8ZhnxFLh1eWsaOpy%2B8bDPMtMz22lij8aoHgs2Yeq7VXk6BXvvB6L%2Fvb6KV3%2BPZYRrOGi6pd4%2BGnEv6G2gikuyqiMVWmvfG3142CVl2TISBzvDII5IHXC6qQQyRMJqisWE4sK0fnTymblRBlMZMFjjXOAR4SfRrfF%2Bjh1sXYRKjm%2FOKNOfDpu2%2FbDKr0tXtyGiURETlnISWp24bXJyPnb54kZYBVrigMNYvRqkgGdf6MUx6HrJM8GyYgNqbvo0GGTGZAFUhteWus9eKJEi0UA%3D%3D
                  reward_program:
                    id: '17'
                    name: it works like a charm
                    value: '121'
                    currency: usd
                    total_stamps: '5'
                    days_number: '210'
                    expired_at: '2024-12-09T21:00:00.000Z'
                    description: hi im description
                    terms_and_conditions: no terms_and_conditions
                    created_at: '2024-02-15T04:53:06.153Z'
                    updated_at: '2024-02-15T04:53:22.466Z'
                  stamp:
                    id: '15'
                    customer_id: '3'
                    business_id: '1'
                    reward_id: '17'
                    count: 0
                    amount_spent: '0.00'
                    created_at: '2024-03-19T00:55:27.005Z'
                    updated_at: '2024-03-19T00:55:27.005Z'
                    redeemed_at: null
                    status: pending
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Mar 2024 00:50:47 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '91'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"5b-UNuu35RHiYRk702L280wULA8t5w"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Invalid Customer Id
        '403':
          description: Forbidden
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Mar 2024 01:00:48 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '107'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"6b-MoWt11MrLNNommnu1bP2CQD2qrs"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Please register your business first
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Mar 2024 00:53:28 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '90'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"5a-/Jj20VDpm8oOkX/5JMKqdBYqZjk"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[404] Customer not found'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: Customer not found
                example-1:
                  summary: '[404] Reward not found or Expired'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: Reward not found
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Mar 2024 00:51:44 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '163'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"a3-IYdnYK22AlqQM8ePle/6ek9A56E"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: >-
                  An error occurred while requesting stamp, Please try again or
                  contact support
                detailes: {}
  /notification:
    post:
      tags:
        - Customer > Notifications
      summary: Save device token
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                fcm_token: '123'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 16 Nov 2023 12:59:33 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '35'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"23-m+AlzjO88LL3iXsU7oueBxAvcpk"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 16 Nov 2023 13:02:39 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '59'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"3b-be4hZCqKjZfHFUCO2S5AdztFCCc"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
    get:
      tags:
        - Employee > Notifications
      summary: Get all notifications
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 23 Nov 2023 03:19:13 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '1340'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"53c-bZsJTApUjjoRPFCm60Wemy2rcwI"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[200] Deal notification (New)'
                  value:
                    success: true
                    next_action: null
                    data:
                      - id: '23'
                        customer_id: '22'
                        retailer_id: '52'
                        type: deal
                        redeem_deal_id:
                          - '134'
                          - '135'
                        redeem_reward_id: null
                        stamp_id: null
                        created_at: '2023-11-23T02:58:24.011Z'
                        updated_at: '2023-11-23T02:58:24.011Z'
                        status: pending
                        opened_at: null
                        customer_name: my name
                        customer_phone_number: '7723433027'
                        customer_phone_country_code: '964'
                        customer_phone_country_name: IQ
                        deals:
                          - deal_name: new name
                            deal_type: welcome
                            deal_end_date: null
                            deal_start_date: null
                            deal_picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/deal/53/Screenshot%202023-10-01%2005291018b61ed2d37.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=GEfiXWJxZ22AcxNHgcr6XULcj%2FKwIVN4JzM%2FOtkNESY6OnACmhGEWTKLRmnIfs5OyseVl1NBKEKu%2FjJ7B8DYPfQi1QYUledBfxlvkyeiXM%2B3bN5v0h79K5FuAZQhCNQVIhg1U5OUYPA2s7rexv9IO8lCCWBLxK1Hu7sgYbgFQ6EUyg9hIQksgOqy0ZwuQ9YTDOjAVYQmUOshjEfA0eFmNkj3zB9nGYpsjyAh2UllQI4UH%2ByD8ORlBNpxRpV6PWOQz3XGExhIsd4RqkxcEdpIZU%2B5169bcF%2FFtpoJEtWXzWe1e%2BgTPb%2FsVx0eYwKhl5VLuWXGJfbYVoNlNT2HZvGN0w%3D%3D
                            redeem_deal_id: '134'
                          - deal_name: new name
                            deal_type: deal
                            deal_end_date: '2023-12-09T21:00:00.000Z'
                            deal_start_date: '2023-10-10T21:00:00.000Z'
                            deal_picture_url: null
                            redeem_deal_id: '135'
                example-1:
                  summary: '[200] Stamp notification (New)'
                  value:
                    success: true
                    next_action: null
                    data:
                      - id: '3'
                        customer_id: '22'
                        retailer_id: '52'
                        type: stamp
                        redeem_deal_id: null
                        redeem_reward_id: null
                        stamp_id: '29'
                        created_at: '2023-11-23T03:23:12.813Z'
                        updated_at: '2023-11-23T03:23:12.813Z'
                        status: pending
                        opened_at: null
                        customer_name: my name
                        customer_phone_number: '7723433027'
                        customer_phone_country_code: '964'
                        customer_phone_country_name: IQ
                      - id: '2'
                        customer_id: '22'
                        retailer_id: '52'
                        type: stamp
                        redeem_deal_id: null
                        redeem_reward_id: null
                        stamp_id: '28'
                        created_at: '2023-11-23T03:22:57.496Z'
                        updated_at: '2023-11-23T03:23:04.406Z'
                        status: rejected
                        opened_at: null
                        customer_name: my name
                        customer_phone_number: '7723433027'
                        customer_phone_country_code: '964'
                        customer_phone_country_name: IQ
                      - id: '1'
                        customer_id: '22'
                        retailer_id: '52'
                        type: stamp
                        redeem_deal_id: null
                        redeem_reward_id: null
                        stamp_id: '27'
                        created_at: '2023-11-23T03:22:29.095Z'
                        updated_at: '2023-11-23T03:22:52.164Z'
                        status: approved
                        opened_at: null
                        customer_name: my name
                        customer_phone_number: '7723433027'
                        customer_phone_country_code: '964'
                        customer_phone_country_name: IQ
                example-2:
                  summary: '[200] Reward notification'
                  value:
                    success: true
                    next_action: null
                    data:
                      - id: '15'
                        customer_id: '22'
                        retailer_id: '52'
                        type: reward
                        redeem_deal_id: null
                        redeem_reward_id: '9'
                        stamp_id: null
                        created_at: '2023-11-18T13:52:05.807Z'
                        opened_at: null
                        status: pending
                        updated_at: '2023-11-18T13:52:05.807Z'
                        customer:
                          id: 22
                          name: my name
                          created_at: null
                          deleted_at: null
                          updated_at: null
                          verified_at: '2023-10-15T14:21:10.240159'
                          phone_number: 7723433027
                          phone_country_code: 964
                          phone_country_name: IQ
                        retailer:
                          id: 52
                          name: tawfeeq
                          created_at: '2023-10-05T04:40:14.743113'
                          deleted_at: null
                          updated_at: '2023-10-05T04:40:14.743113'
                          phone_number: 7723433027
                          phone_country_code: 964
                        deal:
                          id: null
                          name: null
                          type: null
                          price: null
                          repeat: null
                          currency: null
                          end_date: null
                          created_at: null
                          start_date: null
                          updated_at: null
                          description: null
                          repeat_type: null
                          deal_picture:
                            id: null
                            created_at: null
                            updated_at: null
                            picture_url: null
                            picture_type: null
                            storage_path: null
                            storage_type: null
                          full_details: null
                          num_of_visits: null
                          terms_and_conditions: null
                        reward:
                          id: 10
                          name: hi
                          value: 121
                          currency: usd
                          created_at: '2023-10-09T15:48:39.227257'
                          deleted_at: null
                          expired_at: '2024-11-10T00:00:00'
                          updated_at: '2023-10-09T15:48:39.227257'
                          days_number: 10
                          description: hi im description
                          total_stamps: 5
                          terms_and_conditions: no terms_and_conditions
                        stamp:
                          id: null
                          count: null
                          status: null
                          reward_id: null
                          created_at: null
                          updated_at: null
                          business_id: null
                          customer_id: null
                          redeemed_at: null
                          amount_spent: null
                example-3:
                  summary: '[200] Empty'
                  value:
                    success: true
                    next_action: null
                    data: []
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 18 Nov 2023 12:19:50 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '124'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"7c-qRY81ynlSx90tu7GGoxZ8d7pJ/A"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to get all notifications
                details: db_error
  /notification/{notificationId}/approve:
    post:
      tags:
        - Employee > Notifications
      summary: Approve notification
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                amount_spent: 14
                stamp_count: 10
      parameters:
        - name: notificationId
          in: path
          schema:
            type: integer
          required: true
          example: '32'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 18 Nov 2023 13:46:30 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '45'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2d-mgHyV5n6v/+ObsxXwHHEo7fatBM"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                data: []
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 18 Nov 2023 13:39:02 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '145'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"91-VJcMHsvc/Gmr/V3on4rG5cCFG7I"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: notification.approve_notification_error
                details: Failed to update deal
  /notification/{notificationId}/deal/{reedemDealId}:
    delete:
      tags:
        - Employee > Notifications
      summary: Delete single deal from notification
      parameters:
        - name: notificationId
          in: path
          schema:
            type: integer
          required: true
          example: '5'
        - name: reedemDealId
          in: path
          schema:
            type: integer
          required: true
          example: '5'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 23 Nov 2023 03:40:53 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '45'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2d-mgHyV5n6v/+ObsxXwHHEo7fatBM"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                data: []
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 23 Nov 2023 03:41:37 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '157'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"9d-PjTYzzW4kqGPaMViGtZpPN3SBPM"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: notification.remove_single_redeem_deal_error
                details: Failed to remove redeem deal
  /notification/{notificationId}/reject:
    post:
      tags:
        - Employee > Notifications
      summary: Reject notification
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                amount_spent: 14
                stamp_count: 10
      parameters:
        - name: notificationId
          in: path
          schema:
            type: integer
          required: true
          example: '5'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 19 Nov 2023 13:57:27 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '45'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2d-mgHyV5n6v/+ObsxXwHHEo7fatBM"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                data: []
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 19 Nov 2023 14:02:15 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '138'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8a-ULHczxfYyhD0RjP5PhgNFhyXukk"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to reject this item. please try again.
                details: db_error
  /analytics/:
    get:
      tags:
        - Retailer > Analytics
      summary: Get analytic counts
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 06 Dec 2023 12:22:12 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '209'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"d1-G2wBGQL3Nd5ZdioGpXOPybxex3M"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: counts
                data:
                  confirmed_orders: 0
                  published_deals: 0
                  amount_spend: 0
                  average_deal_value: 0
                  percentage_returns: 0
                  customer:
                    returned: 0
                    new: 0
                    all: 0
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 06 Dec 2023 12:24:14 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '159'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"9f-O2jdM9VDeNWgHaYRj0vATcuUaHo"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to get analytics, Please try again.
                details: averagecDealValue is not defined
  /analytics/order-history:
    get:
      tags:
        - Retailer > Analytics
      summary: Get Order history
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 23 Dec 2023 12:44:36 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '537'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"219-siwzIgfyRHjJJmU7vT4aT8KY4Pw"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: Order history
                data:
                  - order_id: '34'
                    redeem_created_at: '2023-12-23T11:59:34.366Z'
                    customer_id: '3'
                    phone_number: '7723433027'
                    phone_country_code: '964'
                    phone_country_name: IQ
                    order_name: my deal, My postman deal
                    value: 20
                    amount_spent: '14.00'
                  - order_id: '32'
                    redeem_created_at: '2023-12-06T13:41:04.869Z'
                    customer_id: '3'
                    phone_number: '7723433027'
                    phone_country_code: '964'
                    phone_country_name: IQ
                    order_name: My postman deal
                    value: 10
                    amount_spent: '14.00'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 06 Dec 2023 13:24:35 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '139'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8b-fB+auVNg72+6UwR73gmkGK094mo"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to get order history, Please try again.
                details: db_error
  /analytics/deals:
    get:
      tags:
        - Retailer > Analytics
      summary: Deals statistics
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 06 Dec 2023 13:54:39 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '268'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"10c-+YStK/VAP5kOETSue0BMYp9vdh0"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: Deal stats
                data:
                  - deal_id: '17'
                    deal_name: My postman deal
                    price: 10
                    start_date: '2023-12-05T21:00:00.000Z'
                    end_date: '2023-12-30T21:00:00.000Z'
                    total_customers: '1'
                    total_orders: '1'
                    total_revenue: '14.00'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 06 Dec 2023 13:53:13 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '131'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"83-3QAcNgfEOxCYNh9bjWuUANEQH8k"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to get deals, Please try again.
                details: db_error
  /analytics/customers:
    get:
      tags:
        - Retailer > Analytics
      summary: Customers statistics
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 07 Dec 2023 03:52:35 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '244'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"f4-LYtx+hTTipPTn0VC1Tgtl9Nmle4"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: Customer stats
                data:
                  - customer_name: my name
                    customer_phone: '7723433027'
                    customer_phone_country_code: '964'
                    visit_count: '0'
                    order_count: '1'
                    last_activity: '2023-12-06T13:41:31.997Z'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 06 Dec 2023 13:53:13 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '131'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"83-3QAcNgfEOxCYNh9bjWuUANEQH8k"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to get deals, Please try again.
                details: db_error
  /auth/retailer:
    get:
      tags:
        - Retailer
      summary: Get My Retailer information
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 27 Sep 2023 14:28:31 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '411'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"19b-XYBtHBr7QrD2bS9o11WWK0d1820"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Get Retailer data successfully
                data:
                  id: '39'
                  name: tawfeeq
                  phone_number: '7723433027'
                  phone_country_code: 964
                  email: tawfek@gmail.com
                  firebase_uid: GvqpekCgAofsKK7Pcuy3x36gQcI3
                  is_verified: true
                  user_type: retailer
                  created_at: '2023-09-18T08:48:01.305Z'
                  updated_at: '2023-09-18T08:48:01.305Z'
                  accept_contact: true
                  has_welcome_deal: false
                  has_business: false
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 27 Sep 2023 14:30:07 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '80'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"50-nPzL1Hsm7Z/Atut7Zj4qfKxL9+Y"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to get Retailer data
                errorCode: internal
    put:
      tags:
        - Retailer
      summary: Update My Retailer information
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                name: Tawfeeq
                phone_number: '+9647723433027'
                email: ta@gmail.com
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 06:05:52 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '188'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"bc-lLFLS5KWcw+sVbggsldDhqZStxw"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: Retailer information updated successfully.
                data:
                  id: '39'
                  name: My store
                  email: tawfeq@gmail.com
                  phone_number: '7723433027'
                  phone_country_code: 964
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 06:06:41 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '101'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"65-87zlL5MsmEKKpdg+STBp9Dhry1M"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Email already inuse'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - E-mail address is already inuse.
                example-1:
                  summary: '[400] Phone number can not changed'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Phone number can not changed.
                example-2:
                  summary: '[400] Validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Store Name is invalid.
                      - Phone number can not changed.
                      - E-mail address is invalid
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Thu, 28 Sep 2023 05:58:17 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '130'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"82-fpOsjbg7FxF0J3TGX4kK69/Q2fs"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                message: Failed to update Retailer information, Please try again.
                details: db_error
                errorCode: internal
    delete:
      tags:
        - Retailer
      summary: Delete my account
      responses:
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 14 Oct 2023 12:33:31 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '138'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8a-s2jVYYkf+4/VP6A3JSTsBmax/oY"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                message: Failed to delete your account, Please try again.
                details: retailer_already_deleted
  /auth/retailer/restore:
    post:
      tags:
        - Retailer
      summary: Restore account
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                identity: '+9647723433027'
                password: Tawffeeq#@1z
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 14 Oct 2023 12:22:58 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '1024'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"400-TizEGJ7fdFU26kPIRhPsZ5+lgac"
          content:
            application/json:
              schema:
                type: object
              example:
                retailer:
                  id: '52'
                  name: tawfeeq
                  phone_number: '7723433027'
                  phone_country_code: 964
                  email: tawfek@gmail.com
                  firebase_uid: ItSUPDt2JEOW6TapymXJjVCygTl1
                  is_verified: false
                  user_type: retailer
                  deleted_at: null
                  created_at: '2023-10-05T01:40:14.743Z'
                  updated_at: '2023-10-05T01:40:14.743Z'
                  accept_contact: true
                  has_welcome_deal: false
                  has_business: true
                token:
                  access_token: >-
                    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiNTIiLCJuYW1lIjoidGF3ZmVlcSIsInBob25lX251bWJlciI6Ijc3MjM0MzMwMjciLCJwaG9uZV9jb3VudHJ5X2NvZGUiOjk2NCwiZW1haWwiOiJ0YXdmZWtAZ21haWwuY29tIiwiZmlyZWJhc2VfdWlkIjoiSXRTVVBEdDJKRU9XNlRhcHltWEpqVkN5Z1RsMSIsImlzX3ZlcmlmaWVkIjpmYWxzZSwidXNlcl90eXBlIjoicmV0YWlsZXIiLCJkZWxldGVkX2F0IjpudWxsLCJjcmVhdGVkX2F0IjoiMjAyMy0xMC0wNVQwMTo0MDoxNC43NDNaIiwidXBkYXRlZF9hdCI6IjIwMjMtMTAtMDVUMDE6NDA6MTQuNzQzWiIsImFjY2VwdF9jb250YWN0Ijp0cnVlLCJoYXNfd2VsY29tZV9kZWFsIjpmYWxzZSwiaGFzX2J1c2luZXNzIjp0cnVlfSwiaWF0IjoxNjk3Mjg2MTc4LCJleHAiOjE3MTI4MzgxNzh9.zgYIWY9FZ6ol0H1QriSouvWFcrgYg3xjx3flwq1lsDk
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 14 Oct 2023 12:28:29 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '246'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"f6-foEaxqnnH1x0JUijmdNV2AeYJ18"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Validation errors (same as login)'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - >-
                        Password must be strong, with a minimum of 8 characters,
                        at least 1 uppercase letter, 1 lowercase letter, 1
                        number, and 1 special character.
                      - Phone number or email is Incorect.
                example-1:
                  summary: '[400] user not found or deleted more than 30 days ago'
                  value:
                    success: false
                    errorCode: internal
                    message: >-
                      The phone number or password is incorrect. Please try to
                      sign in again. If you dont have an existing account please
                      sign up.
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 14 Oct 2023 12:28:16 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '102'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"66-Mbg2/5xyITiZFqt50D9yIViHwmI"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                message: Failed to restore your account, Please try again.
  /auth/customer/login:
    post:
      tags:
        - Customer > Auth
      summary: Login Or Register
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                identity: '+9647723433027'
                name: customer
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 15 Oct 2023 11:14:07 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '676'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2a4-J3rcilYZxl8JX7aKNtteQq+KQac"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                data:
                  user:
                    id: '22'
                    name: my name
                    phone_number: '7723433027'
                    phone_country_code: '964'
                    phone_country_name: IQ
                    verified_at: '2023-10-15T11:14:01.106Z'
                    deleted_at: null
                    created_at: null
                    updated_at: null
                  token:
                    access_token: >-
                      eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiMjIiLCJuYW1lIjoibXkgbmFtZSIsInBob25lX251bWJlciI6Ijc3MjM0MzMwMjciLCJwaG9uZV9jb3VudHJ5X2NvZGUiOiI5NjQiLCJwaG9uZV9jb3VudHJ5X25hbWUiOiJJUSIsInZlcmlmaWVkX2F0IjoiMjAyMy0xMC0xNVQxMToxNDowMS4xMDZaIiwiZGVsZXRlZF9hdCI6bnVsbCwiY3JlYXRlZF9hdCI6bnVsbCwidXBkYXRlZF9hdCI6bnVsbH0sImlhdCI6MTY5NzM2ODQ0NywiZXhwIjoxNzEyOTIwNDQ3fQ.-OaSlYqdWXzK6RKB6i_REl9t8xbGNfjRFq3Fagvkevg
        '201':
          description: Created
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 15 Oct 2023 11:13:26 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '167'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"a7-d0FJzjK1xiDJihTX9edmEjSjVTk"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                message: >-
                  A verification code has been sent to your phone number. Please
                  enter the code to verify your account.
                next_action: verify_otp
                data: {}
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 14 Oct 2023 23:00:29 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '92'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"5c-lXf74rEDfSJmOcyhFl2NO6l6MjA"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: validation_error
                errorMessages:
                  - Phone number is invalid
        '403':
          description: Forbidden
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 15 Oct 2023 11:12:32 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '191'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"bf-OKQPYoku50p9E2oJNT0YOc/l5hM"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: verify_otp
                message: >-
                  A verification code has been sent to your phone number. Please
                  enter the code to verify your account.
                data: {}
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 14 Oct 2023 23:12:38 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '151'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"97-kkEGSHa5iD2YpX2PdfXtLfo+5J8"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Unexpected error occurred, please try again
                details: user.customer.not_found
  /auth/customer/verify-otp:
    post:
      tags:
        - Customer > Auth
      summary: Verify otp
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                phone_number: '+9647723433027'
                otp_code: '6142'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 15 Oct 2023 11:21:10 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '684'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"2ac-JdvTNeGa8UoKSj0NavnBQnt+VPo"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                data:
                  user:
                    id: '22'
                    name: my name
                    phone_number: '7723433027'
                    phone_country_code: '964'
                    phone_country_name: IQ
                    verified_at: '2023-10-15T11:21:10.240Z'
                    deleted_at: null
                    created_at: null
                    updated_at: null
                  token:
                    access_token: >-
                      eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiMjIiLCJuYW1lIjoiUm95YWx0dHkgVXNlciIsInBob25lX251bWJlciI6Ijc3MjM0MzMwMjciLCJwaG9uZV9jb3VudHJ5X2NvZGUiOiI5NjQiLCJwaG9uZV9jb3VudHJ5X25hbWUiOiJJUSIsInZlcmlmaWVkX2F0IjoiMjAyMy0xMC0xNVQxMToyMToxMC4yNDBaIiwiZGVsZXRlZF9hdCI6bnVsbCwiY3JlYXRlZF9hdCI6bnVsbCwidXBkYXRlZF9hdCI6bnVsbH0sImlhdCI6MTY5NzM2ODg3MCwiZXhwIjoxNzEyOTIwODcwfQ.gO1DUgadQgRfmqQYIHY11ZJeu1_cD-EcbicKQbm_ewU
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 15 Oct 2023 10:25:28 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '130'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"82-ANICNGJgXENQTbw1NuV6AzzyKnI"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Invalid OTP code
                      - Invalid OTP code
                      - Phone number is invalid
                example-1:
                  summary: '[400] Already verified'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: Your phone number is already verified.
                example-2:
                  summary: '[400] Invalid OTP'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: Your verification code is incorrect. Please try again.
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 15 Oct 2023 11:18:57 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '90'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"5a-/Jj20VDpm8oOkX/5JMKqdBYqZjk"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Customer not found
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 15 Oct 2023 11:22:38 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '214'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"d6-d52P48lM1VMH/nHB77Bya+w7z5Y"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: >-
                  Unexpected error occurred while verifying your phone number,
                  please try again
                details: customer.getCustomersByPhoneNumber is not a function
  /customer/business/{id}:
    get:
      tags:
        - Customer > Business
      summary: Get business information
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
          example: '1'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 22 Nov 2023 23:13:00 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '4438'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"1156-wc/3vQMh6YMoDYiPSYeMAjSubd8"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[200] Success (New)'
                  value:
                    success: true
                    next_action: null
                    data:
                      customer_stamps: 22
                      id: '53'
                      name: my new store name
                      address: ciro
                      phone_number: null
                      user_id: '52'
                      phone_country_code: 0
                      category: '11'
                      description: description
                      postal_code: 123
                      website_url: https://my.com
                      country: iq
                      phone_country_name: iq
                      amount: 2000000000
                      point_amount: 1
                      created_at: '2023-10-05T01:45:37.033Z'
                      updated_at: '2023-10-05T02:00:28.929Z'
                      pictures:
                        count: 3
                        files:
                          - id: '214'
                            business_id: '53'
                            picture_type: store_images
                            created_at: '2023-10-05T01:58:48.716Z'
                            picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023484118afd8f1353.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=Jv3Djdk2cilub0PFgKNUG5YTvnceFGQhG2IxO3Hg%2F%2Bko11sWKCnzoRS2%2Fz5006L%2F9FHndCWMbRurZ6Pec1%2FwTXxvvNiI6ZWsYkJUdjrxfnf8iOd4zGeJa1CLQkR1FiBL1N4YLibL6LPrPhyLssiZq6mhrd0G6GsVubY6hNcq7eP1tvhFJMObXOJES35Dmrm6RUAtKFV1dcsLJ2B2z1tihXjTjMwh1bH4IiaU288n4hoGdysjqFo1ore4m0RJItwOI2L4IcYifa82vm%2BzPGe4nf3yVB%2BlMs9Xb1XvJyzdGsIFI7UtVJtNnlm23jVHXMFsuwHJyFLavb3RjYub9UwqdA%3D%3D
                          - id: '215'
                            business_id: '53'
                            picture_type: store_images
                            created_at: '2023-10-05T01:58:48.744Z'
                            picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023482218afd8f1355.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=zqenKkAiqM%2FUZU9v7hJIhtCrMHCtBlVIpLPb2E9dm4x1yV6i3egBQPJJg5gPRNIPNqZOon1BJ0TEunzLOClAwZ8n5E4xcHbejp2emzYclZ5hI7rdGsxAeH6lWW8wnBhS1tXm1fkcTDIE0ArnrTQr%2BjsP%2B2MZlvQaW%2FPw32Dqvq8RrcNAtsYFcpcXz258s1TpVhJmMTh4xWxQtXZ35bQYkS3Sjr85yA0jSoJfIwbWXWobDnGgozmj%2B3d5sf6SVM7bovTsdN5MTJTcxoOunZHEe4UDyTz9%2BLj4hB4D9Cj%2B6Np7bZGPS7aNzUN3XF0DnZBvFCaHldDVuuvvRvflNU1z6Q%3D%3D
                          - id: '216'
                            business_id: '53'
                            picture_type: store_images
                            created_at: '2023-10-05T01:58:48.745Z'
                            picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023480218afd8f1355.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=kGQUP2c1tC2GeYpKjeXZVInMfrXAh%2B%2B7pxWhq%2BySLV%2B51%2Fno6nXeEyBnjpjAbyceqchl2kRlIHrMHhtXmusxB5Ke%2F1jMGzymiR94EXM0ljXRdH98QCHh2OYE9EX0S%2FOHP5oY4kUqJDX3Rh2c6t5KCemKIc7WXuQ%2FonXdgmkXT9XGWBypSpOBGbs0iLMOOEySsEgTKzTjTmx4M%2FTIzd7n%2B2CaUws3qDGpw4EWvah2RYlM8wYmySp3uIvY2D8qBMhFdTwKX2S8%2FJ%2F8E3or4%2F70BGpCFS4BlVxj5UdaehglZEUAx4Fa0mkMyDCvEnL9ybiUA7muHA6ahY26G2YHLwGKJQ%3D%3D
                      deals:
                        - id: '88'
                          name: new name
                          num_of_visits: null
                          type: welcome
                          price: 123
                          currency: usd
                          description: very long description
                          full_details: new details
                          start_date: null
                          end_date: null
                          repeat: '["sun","Mon","Tue"]'
                          repeat_type: byday
                          terms_and_conditions: new terms
                          business_id: '53'
                          created_at: '2023-10-24T13:43:37.489Z'
                          updated_at: '2023-10-24T13:46:06.452Z'
                          deal_picture_url: >-
                            https://storage.googleapis.com/loyaltty-app.appspot.com/deal/53/Screenshot%202023-10-01%2005291018b61ed2d37.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=GEfiXWJxZ22AcxNHgcr6XULcj%2FKwIVN4JzM%2FOtkNESY6OnACmhGEWTKLRmnIfs5OyseVl1NBKEKu%2FjJ7B8DYPfQi1QYUledBfxlvkyeiXM%2B3bN5v0h79K5FuAZQhCNQVIhg1U5OUYPA2s7rexv9IO8lCCWBLxK1Hu7sgYbgFQ6EUyg9hIQksgOqy0ZwuQ9YTDOjAVYQmUOshjEfA0eFmNkj3zB9nGYpsjyAh2UllQI4UH%2ByD8ORlBNpxRpV6PWOQz3XGExhIsd4RqkxcEdpIZU%2B5169bcF%2FFtpoJEtWXzWe1e%2BgTPb%2FsVx0eYwKhl5VLuWXGJfbYVoNlNT2HZvGN0w%3D%3D
                        - id: '89'
                          name: new name
                          num_of_visits: null
                          type: deal
                          price: 123
                          currency: usd
                          description: very long description
                          full_details: new details
                          start_date: '2023-10-10T21:00:00.000Z'
                          end_date: '2023-12-09T21:00:00.000Z'
                          repeat: '["sun","Mon","Tue"]'
                          repeat_type: byday
                          terms_and_conditions: new terms
                          business_id: '53'
                          created_at: '2023-10-24T13:43:37.489Z'
                          updated_at: '2023-10-24T13:46:06.452Z'
                          deal_picture_url: null
                      reward_program:
                        id: '10'
                        name: hi
                        value: '121'
                        currency: usd
                        total_stamps: '5'
                        days_number: '10'
                        expired_at: '2024-11-09T21:00:00.000Z'
                        description: hi im description
                        terms_and_conditions: no terms_and_conditions
                        created_at: '2023-10-09T12:48:39.227Z'
                        updated_at: '2023-10-09T12:48:39.227Z'
                example-1:
                  summary: '[200] Success'
                  value:
                    success: true
                    next_action: null
                    data:
                      id: '53'
                      name: my new store name
                      address: ciro
                      phone_number: null
                      user_id: '52'
                      phone_country_code: 0
                      category: '11'
                      description: description
                      postal_code: 123
                      website_url: https://my.com
                      country: iq
                      phone_country_name: iq
                      amount: 2000000000
                      point_amount: 1
                      created_at: '2023-10-05T01:45:37.033Z'
                      updated_at: '2023-10-05T02:00:28.929Z'
                      pictures:
                        count: 3
                        files:
                          - id: '214'
                            business_id: '53'
                            picture_type: store_images
                            created_at: '2023-10-05T01:58:48.716Z'
                            picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023484118afd8f1353.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=Jv3Djdk2cilub0PFgKNUG5YTvnceFGQhG2IxO3Hg%2F%2Bko11sWKCnzoRS2%2Fz5006L%2F9FHndCWMbRurZ6Pec1%2FwTXxvvNiI6ZWsYkJUdjrxfnf8iOd4zGeJa1CLQkR1FiBL1N4YLibL6LPrPhyLssiZq6mhrd0G6GsVubY6hNcq7eP1tvhFJMObXOJES35Dmrm6RUAtKFV1dcsLJ2B2z1tihXjTjMwh1bH4IiaU288n4hoGdysjqFo1ore4m0RJItwOI2L4IcYifa82vm%2BzPGe4nf3yVB%2BlMs9Xb1XvJyzdGsIFI7UtVJtNnlm23jVHXMFsuwHJyFLavb3RjYub9UwqdA%3D%3D
                          - id: '215'
                            business_id: '53'
                            picture_type: store_images
                            created_at: '2023-10-05T01:58:48.744Z'
                            picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023482218afd8f1355.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=zqenKkAiqM%2FUZU9v7hJIhtCrMHCtBlVIpLPb2E9dm4x1yV6i3egBQPJJg5gPRNIPNqZOon1BJ0TEunzLOClAwZ8n5E4xcHbejp2emzYclZ5hI7rdGsxAeH6lWW8wnBhS1tXm1fkcTDIE0ArnrTQr%2BjsP%2B2MZlvQaW%2FPw32Dqvq8RrcNAtsYFcpcXz258s1TpVhJmMTh4xWxQtXZ35bQYkS3Sjr85yA0jSoJfIwbWXWobDnGgozmj%2B3d5sf6SVM7bovTsdN5MTJTcxoOunZHEe4UDyTz9%2BLj4hB4D9Cj%2B6Np7bZGPS7aNzUN3XF0DnZBvFCaHldDVuuvvRvflNU1z6Q%3D%3D
                          - id: '216'
                            business_id: '53'
                            picture_type: store_images
                            created_at: '2023-10-05T01:58:48.745Z'
                            picture_url: >-
                              https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023480218afd8f1355.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=kGQUP2c1tC2GeYpKjeXZVInMfrXAh%2B%2B7pxWhq%2BySLV%2B51%2Fno6nXeEyBnjpjAbyceqchl2kRlIHrMHhtXmusxB5Ke%2F1jMGzymiR94EXM0ljXRdH98QCHh2OYE9EX0S%2FOHP5oY4kUqJDX3Rh2c6t5KCemKIc7WXuQ%2FonXdgmkXT9XGWBypSpOBGbs0iLMOOEySsEgTKzTjTmx4M%2FTIzd7n%2B2CaUws3qDGpw4EWvah2RYlM8wYmySp3uIvY2D8qBMhFdTwKX2S8%2FJ%2F8E3or4%2F70BGpCFS4BlVxj5UdaehglZEUAx4Fa0mkMyDCvEnL9ybiUA7muHA6ahY26G2YHLwGKJQ%3D%3D
                      deals:
                        - id: '88'
                          name: new name
                          num_of_visits: null
                          type: deal
                          price: 123
                          currency: usd
                          description: very long description
                          full_details: new details
                          start_date: '2023-10-23T21:00:00.000Z'
                          end_date: '2023-10-29T21:00:00.000Z'
                          repeat: '["sun","Mon","Tue"]'
                          repeat_type: byday
                          terms_and_conditions: new terms
                          business_id: '53'
                          created_at: '2023-10-24T13:43:37.489Z'
                          updated_at: '2023-10-24T13:46:06.452Z'
                          deal_picture_url: >-
                            https://storage.googleapis.com/loyaltty-app.appspot.com/deal/53/Screenshot%202023-10-01%2005291018b61ed2d37.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=GEfiXWJxZ22AcxNHgcr6XULcj%2FKwIVN4JzM%2FOtkNESY6OnACmhGEWTKLRmnIfs5OyseVl1NBKEKu%2FjJ7B8DYPfQi1QYUledBfxlvkyeiXM%2B3bN5v0h79K5FuAZQhCNQVIhg1U5OUYPA2s7rexv9IO8lCCWBLxK1Hu7sgYbgFQ6EUyg9hIQksgOqy0ZwuQ9YTDOjAVYQmUOshjEfA0eFmNkj3zB9nGYpsjyAh2UllQI4UH%2ByD8ORlBNpxRpV6PWOQz3XGExhIsd4RqkxcEdpIZU%2B5169bcF%2FFtpoJEtWXzWe1e%2BgTPb%2FsVx0eYwKhl5VLuWXGJfbYVoNlNT2HZvGN0w%3D%3D
                      reward_program:
                        id: '10'
                        name: hi
                        value: '121'
                        currency: usd
                        total_stamps: '5'
                        days_number: '10'
                        expired_at: '2023-11-09T21:00:00.000Z'
                        description: hi im description
                        terms_and_conditions: no terms_and_conditions
                        created_at: '2023-10-09T12:48:39.227Z'
                        updated_at: '2023-10-09T12:48:39.227Z'
  /customer/business/{id}/nearby:
    get:
      tags:
        - Customer > Business
      summary: Get Nearby stores
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
          example: '1'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 29 Nov 2023 14:01:27 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '1179'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"49b-QtzrkyEZ1uBCgw2WBq+dagv5DHc"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                data:
                  - id: '4'
                    name: Ltr Store
                    address: Iraq
                    postal_code: 3601
                    phone_number: null
                    phone_country_code: 0
                    category: '11'
                    user_id: '3'
                    website_url: http://google.com
                    description: null
                    country: IQ
                    amount: 1000
                    point_amount: 10
                    created_at: '2023-11-25T12:54:44.964Z'
                    updated_at: '2023-11-25T12:54:44.964Z'
                    phone_country_name: null
                    picture_url: >-
                      https://storage.googleapis.com/loyaltty-app.appspot.com/business/owner_id/7723433027-4/%D8%A7%D9%81%D8%B6%D9%84%20%D8%A7%D8%B3%D8%AA%D8%B1%D8%A7%D8%AA%D9%8A%D8%AC%D9%8A%D8%A9%20%D9%84%D8%AA%D9%86%D8%B8%D9%8A%D9%85%20%D8%A7%D9%84%D9%88%D9%82%D8%AA%20%D9%84%D9%84%D8%B7%D9%84%D8%A718c07318a2c.jpg?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441228800&Signature=UXz7IYTFCU2JowBtE0pgZY8WcmSVbT6vF856%2BS4UvnffbSyXsdgu8XAGOiX6Q4t43wHzuFHCn%2BHVFQbmVNCIwEUBW7TK7VpKfLJARpY3Xn3w3R1xKxst%2FvGz3pc%2FAzc4SWN25G5TMP4tMPfYHGZL9ShV%2F4kEVg%2Bdj8VAW4AH5CGp6ZODvjvbmMQLmvjhV7OfpxxZXv4UNKIommuIUJIGleYB10wCANZBkv0pulH339IGXBftQj1fiFwCoMJv3%2BfHdWAQYghjhq9a2X3YtQzruMbO1R5VkKV%2FnMiR2%2BnahRf3%2FCaOiQL9z2skJWa3An3FepKCTlZU2sewXPADqVu%2FnQ%3D%3D
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 29 Nov 2023 14:01:46 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '140'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8c-oSpNFiMleC5hJZExYwO5FVeUUus"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: >-
                  Unexpected error occurred while getting business , please try
                  again.
  /customer/business/{id}/stamp/{rewardId}:
    get:
      tags:
        - Customer > Business
      summary: Request Stamp
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
          example: '1'
        - name: rewardId
          in: path
          schema:
            type: integer
          required: true
          example: '2'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 29 Oct 2023 03:03:16 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '3418'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"d5a-PVB/Hn0V7p8KWu9eu84DtJ/k5e8"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                data:
                  id: '53'
                  name: my new store name
                  address: ciro
                  phone_number: null
                  user_id: '52'
                  phone_country_code: 0
                  category: '11'
                  description: description
                  postal_code: 123
                  website_url: https://my.com
                  country: iq
                  phone_country_name: iq
                  amount: 2000000000
                  point_amount: 1
                  created_at: '2023-10-05T01:45:37.033Z'
                  updated_at: '2023-10-05T02:00:28.929Z'
                  pictures:
                    count: 3
                    files:
                      - id: '214'
                        business_id: '53'
                        picture_type: store_images
                        created_at: '2023-10-05T01:58:48.716Z'
                        picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023484118afd8f1353.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=Jv3Djdk2cilub0PFgKNUG5YTvnceFGQhG2IxO3Hg%2F%2Bko11sWKCnzoRS2%2Fz5006L%2F9FHndCWMbRurZ6Pec1%2FwTXxvvNiI6ZWsYkJUdjrxfnf8iOd4zGeJa1CLQkR1FiBL1N4YLibL6LPrPhyLssiZq6mhrd0G6GsVubY6hNcq7eP1tvhFJMObXOJES35Dmrm6RUAtKFV1dcsLJ2B2z1tihXjTjMwh1bH4IiaU288n4hoGdysjqFo1ore4m0RJItwOI2L4IcYifa82vm%2BzPGe4nf3yVB%2BlMs9Xb1XvJyzdGsIFI7UtVJtNnlm23jVHXMFsuwHJyFLavb3RjYub9UwqdA%3D%3D
                      - id: '215'
                        business_id: '53'
                        picture_type: store_images
                        created_at: '2023-10-05T01:58:48.744Z'
                        picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023482218afd8f1355.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=zqenKkAiqM%2FUZU9v7hJIhtCrMHCtBlVIpLPb2E9dm4x1yV6i3egBQPJJg5gPRNIPNqZOon1BJ0TEunzLOClAwZ8n5E4xcHbejp2emzYclZ5hI7rdGsxAeH6lWW8wnBhS1tXm1fkcTDIE0ArnrTQr%2BjsP%2B2MZlvQaW%2FPw32Dqvq8RrcNAtsYFcpcXz258s1TpVhJmMTh4xWxQtXZ35bQYkS3Sjr85yA0jSoJfIwbWXWobDnGgozmj%2B3d5sf6SVM7bovTsdN5MTJTcxoOunZHEe4UDyTz9%2BLj4hB4D9Cj%2B6Np7bZGPS7aNzUN3XF0DnZBvFCaHldDVuuvvRvflNU1z6Q%3D%3D
                      - id: '216'
                        business_id: '53'
                        picture_type: store_images
                        created_at: '2023-10-05T01:58:48.745Z'
                        picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023480218afd8f1355.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=kGQUP2c1tC2GeYpKjeXZVInMfrXAh%2B%2B7pxWhq%2BySLV%2B51%2Fno6nXeEyBnjpjAbyceqchl2kRlIHrMHhtXmusxB5Ke%2F1jMGzymiR94EXM0ljXRdH98QCHh2OYE9EX0S%2FOHP5oY4kUqJDX3Rh2c6t5KCemKIc7WXuQ%2FonXdgmkXT9XGWBypSpOBGbs0iLMOOEySsEgTKzTjTmx4M%2FTIzd7n%2B2CaUws3qDGpw4EWvah2RYlM8wYmySp3uIvY2D8qBMhFdTwKX2S8%2FJ%2F8E3or4%2F70BGpCFS4BlVxj5UdaehglZEUAx4Fa0mkMyDCvEnL9ybiUA7muHA6ahY26G2YHLwGKJQ%3D%3D
                  deals:
                    - id: '89'
                      name: new name
                      num_of_visits: null
                      type: deal
                      price: 123
                      currency: usd
                      description: very long description
                      full_details: new details
                      start_date: '2023-10-10T21:00:00.000Z'
                      end_date: '2023-11-09T21:00:00.000Z'
                      repeat: '["sun","Mon","Tue"]'
                      repeat_type: byday
                      terms_and_conditions: new terms
                      business_id: '53'
                      created_at: '2023-10-24T13:43:37.489Z'
                      updated_at: '2023-10-24T13:46:06.452Z'
                      deal_picture_url: null
                  reward_program:
                    id: '10'
                    name: hi
                    value: '121'
                    currency: usd
                    total_stamps: '5'
                    days_number: '10'
                    expired_at: '2023-10-29T21:00:00.000Z'
                    description: hi im description
                    terms_and_conditions: no terms_and_conditions
                    created_at: '2023-10-09T12:48:39.227Z'
                    updated_at: '2023-10-09T12:48:39.227Z'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 29 Oct 2023 03:04:16 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '140'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8c-oSpNFiMleC5hJZExYwO5FVeUUus"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: >-
                  Unexpected error occurred while getting business , please try
                  again.
  /customer/business/{id}/reward/{rewardId}:
    get:
      tags:
        - Customer > Business
      summary: Request Redeem Reward
      parameters:
        - name: id
          in: path
          schema:
            type: integer
          required: true
          example: '1'
        - name: rewardId
          in: path
          schema:
            type: integer
          required: true
          example: '2'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 01 Nov 2023 05:09:44 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '3418'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"d5a-9DQA7s6IyT2GtlK4BP5uyM1kb4w"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                data:
                  id: '53'
                  name: my new store name
                  address: ciro
                  phone_number: null
                  user_id: '52'
                  phone_country_code: 0
                  category: '11'
                  description: description
                  postal_code: 123
                  website_url: https://my.com
                  country: iq
                  phone_country_name: iq
                  amount: 2000000000
                  point_amount: 1
                  created_at: '2023-10-05T01:45:37.033Z'
                  updated_at: '2023-10-05T02:00:28.929Z'
                  pictures:
                    count: 3
                    files:
                      - id: '214'
                        business_id: '53'
                        picture_type: store_images
                        created_at: '2023-10-05T01:58:48.716Z'
                        picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023484118afd8f1353.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=Jv3Djdk2cilub0PFgKNUG5YTvnceFGQhG2IxO3Hg%2F%2Bko11sWKCnzoRS2%2Fz5006L%2F9FHndCWMbRurZ6Pec1%2FwTXxvvNiI6ZWsYkJUdjrxfnf8iOd4zGeJa1CLQkR1FiBL1N4YLibL6LPrPhyLssiZq6mhrd0G6GsVubY6hNcq7eP1tvhFJMObXOJES35Dmrm6RUAtKFV1dcsLJ2B2z1tihXjTjMwh1bH4IiaU288n4hoGdysjqFo1ore4m0RJItwOI2L4IcYifa82vm%2BzPGe4nf3yVB%2BlMs9Xb1XvJyzdGsIFI7UtVJtNnlm23jVHXMFsuwHJyFLavb3RjYub9UwqdA%3D%3D
                      - id: '215'
                        business_id: '53'
                        picture_type: store_images
                        created_at: '2023-10-05T01:58:48.744Z'
                        picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023482218afd8f1355.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=zqenKkAiqM%2FUZU9v7hJIhtCrMHCtBlVIpLPb2E9dm4x1yV6i3egBQPJJg5gPRNIPNqZOon1BJ0TEunzLOClAwZ8n5E4xcHbejp2emzYclZ5hI7rdGsxAeH6lWW8wnBhS1tXm1fkcTDIE0ArnrTQr%2BjsP%2B2MZlvQaW%2FPw32Dqvq8RrcNAtsYFcpcXz258s1TpVhJmMTh4xWxQtXZ35bQYkS3Sjr85yA0jSoJfIwbWXWobDnGgozmj%2B3d5sf6SVM7bovTsdN5MTJTcxoOunZHEe4UDyTz9%2BLj4hB4D9Cj%2B6Np7bZGPS7aNzUN3XF0DnZBvFCaHldDVuuvvRvflNU1z6Q%3D%3D
                      - id: '216'
                        business_id: '53'
                        picture_type: store_images
                        created_at: '2023-10-05T01:58:48.745Z'
                        picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/business/store_images/7723433020-52/Screenshot%202023-09-30%2023480218afd8f1355.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=kGQUP2c1tC2GeYpKjeXZVInMfrXAh%2B%2B7pxWhq%2BySLV%2B51%2Fno6nXeEyBnjpjAbyceqchl2kRlIHrMHhtXmusxB5Ke%2F1jMGzymiR94EXM0ljXRdH98QCHh2OYE9EX0S%2FOHP5oY4kUqJDX3Rh2c6t5KCemKIc7WXuQ%2FonXdgmkXT9XGWBypSpOBGbs0iLMOOEySsEgTKzTjTmx4M%2FTIzd7n%2B2CaUws3qDGpw4EWvah2RYlM8wYmySp3uIvY2D8qBMhFdTwKX2S8%2FJ%2F8E3or4%2F70BGpCFS4BlVxj5UdaehglZEUAx4Fa0mkMyDCvEnL9ybiUA7muHA6ahY26G2YHLwGKJQ%3D%3D
                  deals:
                    - id: '89'
                      name: new name
                      num_of_visits: null
                      type: deal
                      price: 123
                      currency: usd
                      description: very long description
                      full_details: new details
                      start_date: '2023-10-10T21:00:00.000Z'
                      end_date: '2023-11-09T21:00:00.000Z'
                      repeat: '["sun","Mon","Tue"]'
                      repeat_type: byday
                      terms_and_conditions: new terms
                      business_id: '53'
                      created_at: '2023-10-24T13:43:37.489Z'
                      updated_at: '2023-10-24T13:46:06.452Z'
                      deal_picture_url: null
                  reward_program:
                    id: '10'
                    name: hi
                    value: '121'
                    currency: usd
                    total_stamps: '5'
                    days_number: '10'
                    expired_at: '2023-11-09T21:00:00.000Z'
                    description: hi im description
                    terms_and_conditions: no terms_and_conditions
                    created_at: '2023-10-09T12:48:39.227Z'
                    updated_at: '2023-10-09T12:48:39.227Z'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 01 Nov 2023 05:10:10 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '140'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8c-oSpNFiMleC5hJZExYwO5FVeUUus"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: >-
                  Unexpected error occurred while getting business , please try
                  again.
  /customer/deal/redemption:
    post:
      tags:
        - Customer > Deal
      summary: Single Deal redemption
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                id: 1
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Mon, 20 Nov 2023 14:46:13 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '101'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"65-koNpwg1XP3RWGrZbiHmYyNc5b0w"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: Deal submitted for redemption successfully.
                data: []
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 25 Oct 2023 02:25:51 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '123'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"7b-sOaBhr5L3ODZ8gjHHmo1OoNuHkI"
          content:
            application/json:
              schema:
                type: object
              examples:
                example-0:
                  summary: '[400] Redeem a past deal'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: You can not redeem this deal because it is expired.
                example-1:
                  summary: '[400] Redeem a upcoming deal'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: >-
                      You can not redeem this deal because it is not started
                      yet.
                example-2:
                  summary: '[400] Waiting for approval'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: Redemption is pending approval.
                example-3:
                  summary: '[400] Already redeemed (dep)'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: This deal is already redeemed.
                example-4:
                  summary: '[400] Redemption Rejected'
                  value:
                    success: false
                    errorCode: internal
                    next_action: null
                    message: Deal redemption is rejected.
                example-5:
                  summary: '[400] Validation errors'
                  value:
                    success: false
                    errorCode: validation_error
                    errorMessages:
                      - Invalid deal id
        '404':
          description: Not Found
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 25 Oct 2023 02:22:01 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '113'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"71-8ep8hAYAdtPOMaIQCh199ehGiRU"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: The deal you are looking for is not found
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Wed, 25 Oct 2023 02:22:37 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '140'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8c-oSpNFiMleC5hJZExYwO5FVeUUus"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: >-
                  Unexpected error occurred while getting business , please try
                  again.
  /notification/customer/{retailerId}:
    get:
      tags:
        - Customer > Notifications
      summary: Get all Notifications(Only deal notifications)
      parameters:
        - name: retailerId
          in: path
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 12 Mar 2024 12:12:13 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '1942'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"796-bJAfRbSl5GSXdeiPklNJgcAxUM8"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                data:
                  - id: '23'
                    customer_id: '3'
                    retailer_id: '1'
                    type: deal
                    redeem_deal_id:
                      - '14'
                      - '15'
                    redeem_reward_id: null
                    stamp_id: null
                    created_at: '2024-03-12T12:10:30.198Z'
                    updated_at: '2024-03-12T12:10:30.198Z'
                    status: pending
                    opened_at: null
                    retailer_name: tawfeeq mohammed
                    retailer_phone_number: '7723433027'
                    retailer_phone_country_code: 964
                    deals:
                      - deal_name: Welcome deal test
                        deal_type: welcome
                        deal_price: 15
                        deal_end_date: null
                        deal_start_date: null
                        deal_picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/deal/1/fb25c3f2-8ba1-4042-ad1e-6e795abc2a1018ce63c90db.jpg?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=OqTlqjVNMQnx2q3iT%2FwjXtiN%2FDAxmcdh7jq%2FUYlLYZ25aw1dUoHVnUlWgY%2BYr8R2QAni1mZTBYBGV0pvqAnXTt4%2F0V3rfxuPOIrldUsnyuRLf6cXp2%2BDXZITjeJeMedbLxKmKY6uKnOTLDW7UWUKp1fQ0pTL9WjRWbjL%2BI7vjIiLzgpiyYiqMnC6dyJZXJmhjlbAoP%2FPULgJkgctDczrnnEsBuk%2BbUKZWYtF17i5tOBVd61DBwt6rqvCGGHMY809qnfPAcKr0BVucyMJnzGeA8ZUEY8mzZxQzRhVATEjMLMEKzYvC9tmzLy1HIHe2n4w93ISzUFu%2FRRd%2Fnq3cKSKWA%3D%3D
                        redeem_deal_id: '14'
                      - deal_name: My postman deal
                        deal_type: deal
                        deal_price: 10
                        deal_end_date: '2024-05-09T21:00:00.000Z'
                        deal_start_date: '2024-01-07T21:00:00.000Z'
                        deal_picture_url: >-
                          https://storage.googleapis.com/loyaltty-app.appspot.com/deal/1/Screenshot%202023-09-30%2023304518ce645289b.png?GoogleAccessId=firebase-adminsdk-rva68%40loyaltty-app.iam.gserviceaccount.com&Expires=16441218000&Signature=4ZGcM4poVwPocBWhxTzICUC0jC8UhLeMQPZAA%2BOiUrunStQAL36HITAKiLWQ5t4yEk8ZhnxFLh1eWsaOpy%2B8bDPMtMz22lij8aoHgs2Yeq7VXk6BXvvB6L%2Fvb6KV3%2BPZYRrOGi6pd4%2BGnEv6G2gikuyqiMVWmvfG3142CVl2TISBzvDII5IHXC6qQQyRMJqisWE4sK0fnTymblRBlMZMFjjXOAR4SfRrfF%2Bjh1sXYRKjm%2FOKNOfDpu2%2FbDKr0tXtyGiURETlnISWp24bXJyPnb54kZYBVrigMNYvRqkgGdf6MUx6HrJM8GyYgNqbvo0GGTGZAFUhteWus9eKJEi0UA%3D%3D
                        redeem_deal_id: '15'
  /admin/auth/login:
    post:
      tags:
        - Admin > Auth
      summary: Login
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                email: demo@demo.com
                password: Demo123@@
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 17 Dec 2023 13:29:11 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '303'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"12f-i4GUZublgM/MdiVoLoy17LU0xpQ"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: User login successfully
                data:
                  id: '11'
                  email: t@t.com
                  access_token: >-
                    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiMTEiLCJlbWFpbCI6InRAdC5jb20ifSwiaWF0IjoxNzAyODE5NzUxLCJleHAiOjE3MTgzNzE3NTF9.kx_Fd8_Q5z-e4ORx70nsXWUhxHzwI1tFZH0iDTal3iE
        '400':
          description: Bad Request
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 16 Dec 2023 13:43:22 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '132'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"84-jwc0aF76FNxwQvSv7hrknIeXWhs"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: validation_error
                errorMessages:
                  - Password is incorrect
                  - E-smail is not registered or is invalid
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 17 Dec 2023 13:28:34 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '118'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"76-Z41TENpBqBDdRASHEO3T+VT2Tkc"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to login
                details: incorrect_password
  /admin/auth/register:
    post:
      tags:
        - Admin > Auth
      summary: Register(do not include in the front end)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              example:
                email: demo@demo.com
                password: Demo123@@
                secret1_key2_for3_register4_new5_user6_7: THIS_IS_SECRET_PATH_AND_ENDPOINT_DO_NOT_INCLUDE_IT
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 17 Dec 2023 13:29:49 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '304'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"130-iJUm2bT0LollFpyXaLNEdAJobLo"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: Register successfully
                data:
                  id: '13'
                  email: tt@t.com
                  access_token: >-
                    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiMTMiLCJlbWFpbCI6InR0QHQuY29tIn0sImlhdCI6MTcwMjgxOTc4OSwiZXhwIjoxNzE4MzcxNzg5fQ.SI7K_TbVGXDRy9NZQpTXHJIW-U4DaTMieuOxkp9nHdk
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sun, 17 Dec 2023 13:29:35 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '111'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"6f-EiGpzfqGA4RcFg1FjC0hJIuvUYY"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to register
                details: db_error
  /admin/auth/verify-token:
    get:
      tags:
        - Admin > Auth
      summary: Verify token
      responses:
        '200':
          description: Successful response
          content:
            application/json: {}
  /admin/auth/logout:
    get:
      tags:
        - Admin > Auth
      summary: Logout
      responses:
        '200':
          description: Successful response
          content:
            application/json: {}
  /admin/retailers:
    get:
      tags:
        - Admin > Retailer
      summary: Get all retailers
      parameters:
        - name: page
          in: query
          schema:
            type: integer
          example: '1'
        - name: limit
          in: query
          schema:
            type: integer
          example: '10'
        - name: q
          in: query
          schema:
            type: string
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 01:45:03 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '847'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"34f-F7ENutgJfJEV8kntmvfbqA628JI"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: Get all business successfully
                data:
                  - business_id: '7'
                    business_name: Ltr Store
                    business_phone_number: '12345'
                    business_phone_country_code: 964
                    business_address: 1600 Amphitheatre Parkway
                    business_postal_code: 3601
                    business_category: '11'
                    business_disabled_at: null
                    owner_user_id: '3'
                    owner_name: tawfeeq
                    owner_email: tawfek@gmail.com
                    owner_phone_number: '7723433027'
                    owner_phone_country_code: 964
                  - business_id: '8'
                    business_name: Ltr Store
                    business_phone_number: null
                    business_phone_country_code: 0
                    business_address: 1600 Amphitheatre Parkway
                    business_postal_code: 3601
                    business_category: '11'
                    business_disabled_at: null
                    owner_user_id: '3'
                    owner_name: tawfeeq
                    owner_email: tawfek@gmail.com
                    owner_phone_number: '7723433027'
                    owner_phone_country_code: 964
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 01:41:28 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '143'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"8f-/0EBtUQQihGgBWw5EMyB+Gl9Zxo"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to get all business, please try again later
                details: db_error
  /admin/retailers/{retailerUserId}:
    get:
      tags:
        - Admin > Retailer
      summary: Get retailer access token
      parameters:
        - name: retailerUserId
          in: path
          schema:
            type: integer
          required: true
          example: '1'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 12:33:45 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '853'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"355-YYjxXU9R5JADUGfnezNsBc7vA8s"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: generate_retailer_access_token_successfully
                data:
                  access_token: >-
                    eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyIjp7ImlkIjoiMyIsIm5hbWUiOiJ0YXdmZWVxIiwicGhvbmVfbnVtYmVyIjoiNzcyMzQzMzAyNyIsInBob25lX2NvdW50cnlfY29kZSI6OTY0LCJlbWFpbCI6InRhd2Zla0BnbWFpbC5jb20iLCJmaXJlYmFzZV91aWQiOiJJdFNVUER0MkpFT1c2VGFweW1YSmpWQ3lnVGwxIiwicGFzc3dvcmQiOiIkYXJnb24yaWQkdj0xOSRtPTY1NTM2LHQ9NCxwPTIkSVNNa0pWNXpSVEZzY0U5clFEZzRPRjUwWjJocGJDcG5ibWx5TG1sQkxRJHR5aVByeHdDcmtJVHhnUWdkMlU5KzUyc3lqd3I3bVdqMkROcE1GWnBSOVEiLCJpc192ZXJpZmllZCI6ZmFsc2UsInVzZXJfdHlwZSI6InJldGFpbGVyIiwiY3JlYXRlZF9hdCI6IjIwMjMtMTAtMDVUMDE6NDA6MTQuNzQzWiIsInVwZGF0ZWRfYXQiOiIyMDIzLTEwLTA1VDAxOjQwOjE0Ljc0M1oiLCJhY2NlcHRfY29udGFjdCI6dHJ1ZSwiZGVsZXRlZF9hdCI6bnVsbH0sImlhdCI6MTcwMjk4OTIyNSwiZXhwIjoxNzAyOTkyNjgxfQ.Spy46gmBb1ZJ-pNdwDeYyGjZpkW2FrJ9D46gs_1IhrA
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 12:34:34 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '148'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"94-gvEiBt2J/9HTvQxyOsjN/gSUnA0"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to generate retailer access token
                details: retailer_user_not_found
  /admin/retailers/{businessId}:
    put:
      tags:
        - Admin > Retailer
      summary: Disable or Enable a retailer
      requestBody:
        content: {}
      parameters:
        - name: businessId
          in: path
          schema:
            type: integer
          required: true
          example: '1'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 12:39:29 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '504'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"1f8-CvBHDLeeWh0Xt/NbisHuO4P4HBk"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: enable_or_disable_business_successfully
                data:
                  id: '8'
                  name: moh2
                  address: 1600 Amphitheatre Parkway
                  postal_code: 3601
                  phone_number: null
                  phone_country_code: 0
                  category: '11'
                  user_id: '3'
                  website_url: https://google.com
                  description: ''
                  country: IQ
                  amount: 1000
                  point_amount: 10
                  created_at: '2023-12-03T13:48:25.568Z'
                  updated_at: '2023-12-03T13:48:25.568Z'
                  phone_country_name: ''
                  lng: -122.12765
                  lat: 37.391522
                  disabled_at: null
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 12:40:11 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '129'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"81-VPlA7wrCOc9WPzzV1uIV/R9Z258"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to enable or disable business
                details: db_error
  /admin/customers:
    get:
      tags:
        - Admin > Customer
      summary: Get all customers
      parameters:
        - name: page
          in: query
          schema:
            type: integer
          example: '1'
        - name: limit
          in: query
          schema:
            type: integer
          example: '10'
        - name: q
          in: query
          schema:
            type: integer
          description: Search query
          example: '964772343302'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 13:32:57 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '271'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"10f-aKmOm12zsfGiT5OV2jzdhsKcWKE"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: Get all business successfully
                data:
                  - customer_id: '3'
                    customer_name: my name
                    customer_phone_number: '7723433027'
                    customer_phone_country_code: '964'
                    customer_approved_deals_count: '1'
                    customer_business_count: '1'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 13:33:49 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '119'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"77-MxppK4TUDGL888j3dfTnSJPNzpE"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to get all customer
                details: db_error
  /admin/customers/{customerUserId}:
    get:
      tags:
        - Admin > Customer
      summary: Get customer information
      parameters:
        - name: customerUserId
          in: path
          schema:
            type: integer
          required: true
          example: '1'
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 23 Dec 2023 01:27:12 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '393'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"189-r/8kUj6/an7HPFtO76YcdL33PS8"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: get_customer_information_successfully
                data:
                  customer_id: '3'
                  customer_name: my name
                  customer_phone_number: '7723433027'
                  customer_phone_country_code: '964'
                  customer_approved_deals_count: '3'
                  customer_business_count: '2'
                  customer_business_names:
                    - my new store name
                    - tawfeeq store
                  customer_last_activity: '2023-12-23T01:18:59.644Z'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Sat, 23 Dec 2023 01:27:57 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '127'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"7f-/k8U5fjuWP45G35XgcYsepZU1AU"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to get customer information
                details: db_error
    put:
      tags:
        - Admin > Customer
      summary: Disable or Enable a customer
      requestBody:
        content: {}
      parameters:
        - name: customerUserId
          in: path
          schema:
            type: string
          required: true
          example: 3gfd
      responses:
        '200':
          description: OK
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 13:50:48 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '361'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"169-1miz84rDjD8Jb01CkD9t6u8Jr2k"
          content:
            application/json:
              schema:
                type: object
              example:
                success: true
                next_action: null
                message: enable_or_disable_customer_successfully
                data:
                  id: '3'
                  name: my name
                  phone_number: '7723433027'
                  phone_country_code: '964'
                  phone_country_name: IQ
                  verified_at: '2023-10-15T11:21:10.240Z'
                  deleted_at: null
                  created_at: '2023-11-25T12:53:22.317Z'
                  updated_at: null
                  disabled_at: '2023-12-19T13:50:48.047Z'
        '500':
          description: Internal Server Error
          headers:
            Server:
              schema:
                type: string
                example: nginx/1.23.3
            Date:
              schema:
                type: string
                example: Tue, 19 Dec 2023 13:51:13 GMT
            Content-Type:
              schema:
                type: string
                example: application/json; charset=utf-8
            Content-Length:
              schema:
                type: integer
                example: '129'
            Connection:
              schema:
                type: string
                example: keep-alive
            X-Powered-By:
              schema:
                type: string
                example: Express
            Access-Control-Allow-Origin:
              schema:
                type: string
                example: '*'
            ETag:
              schema:
                type: string
                example: W/"81-ehZwH11mZBsGwcfj+XNA30ZRmrs"
          content:
            application/json:
              schema:
                type: object
              example:
                success: false
                errorCode: internal
                next_action: null
                message: Failed to enable or disable customer
                details: db_error
